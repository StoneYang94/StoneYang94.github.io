---
title: 计算机网络复习
date: 2018-09-25 23:07:38
tags: 计算机网络
categories: 计算机网络
---
博主最近在复习HTTP，之前用书主要是《计算机网络》谢希仁版本，最近结合网上博客，进行复习和提纲式的总结。

<!-- more -->

# 一、概述

## 网络的网络

网络把主机连接起来，而**互联网是把多种不同的网络连接起来**，因此互联网是`网络的网络`

![互联网](http://upload-images.jianshu.io/upload_images/11861611-a0c7662d09617443.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## ISP(Internet Server Provider)

互联网服务提供商 `ISP(Internet Server Provider)` 可以从互联网管理机构**获得许多 IP 地址**，同时拥有通信线路以及路由器等联网设备，个人或机构向 ISP 缴纳一定的费用就可以接入互联网。

目前的互联网是一种多层次 ISP 结构，ISP 根据覆盖面积的大小分为主干 ISP、地区 ISP 和本地 ISP。

互联网交换点` IXP(Internet eXchange Point)` 允许两个 ISP 直接相连而不用经过第三个 ISP。

![ISP](http://upload-images.jianshu.io/upload_images/11861611-1cfa317ef5d4295d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 互联网的组成

1.  边缘部分
所有连接在互联网上的**主机**，用户可以直接使用
2.  核心部分
由大量的网络和连接这些网络的**路由器**组成，为边缘部分的主机提供服务。

![互联网的组成](http://upload-images.jianshu.io/upload_images/11861611-44cbc1f55dc36776.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 主机之间的通信方式

1.  客户-服务器（C/S）：`客户(Client)`是服务的请求方，`服务器(Server)`是服务的提供方。
2.  对等（P2P）：不区分客户和服务器。`(peer-to-peer)`

## 电路交换与分组交换

![电路交换与分组交换](http://upload-images.jianshu.io/upload_images/11861611-efd6a1048f4f4e36.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 1. 电路交换

电路交换用于电话通信系统，两个用户要通信之前需要建立一条专用的物理链路，并且在整个通信过程中**始终占用该链路**。由于通信的过程中不可能一直在使用传输线路，因此电路交换对线路的利用率很低，往往不到 10%。

### 2. 报文交换

报文交换用于邮局通信系统，邮局接收到一份报文之后，先存储下来，然后把相同目的地的报文一起转发到下一个目的地，这个过程就是**存储转发**过程。

### 3. 分组交换

分组交换**也使用了存储转发**，但是转发的是分组而不是报文。把整块数据称为一个报文，由于一个报文可能很长，需要先进行切分，来满足分组能处理的大小。在每个切分的数据前面**加上首部**之后就成为了分组，首部包含了目的地址和源地址等控制信息。

![分组交换](http://upload-images.jianshu.io/upload_images/11861611-9769d30a55bf3b43.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

存储转发允许在一条传输线路上传送多个主机的分组，也就是说两个用户之间的通信不需要占用端到端的线路资源。

相比于报文交换，由于分组比报文更小，因此分组交换的存储转发速度更加快速。

## 时延

总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延

![时延](http://upload-images.jianshu.io/upload_images/11861611-0217de8fa5f0d52a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 1. 发送时延

主机或路由器**发送数据帧**所需要的时间。

![发送时延](http://upload-images.jianshu.io/upload_images/11861611-d2ae6d9c8bf7e5e2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

其中 l 表示数据帧的长度，v 表示发送速率。

### 2. 传播时延

电磁波**在信道中传播**一定的距离需要花费的时间，电磁波传播速度接近光速。

![传播时延](http://upload-images.jianshu.io/upload_images/11861611-f1b7c7207bc7a5ab.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

其中 l 表示信道长度，v 表示电磁波在信道上的传播速率。

### 3. 处理时延

主机或路由器收到分组时进行处理所需要的时间，例如分析首部、从分组中提取数据部、进行差错检验或查找适当的路由等。

### 4. 排队时延

分组在路由器的输入队列和输出队列中排队等待的时间，取决于网络当前的通信量。

## 计算机网络体系结构

![计算机网络体系结构](http://upload-images.jianshu.io/upload_images/11861611-1987df68650d3ad6.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 1. 七层协议

如图 a 所示，其中表示层和会话层用途如下：

1.  表示层：信息的语法、语义以及它们的关联，如**加密解密、转换翻译、压缩解压缩**
2.  会话层：不同机器上的**用户之间建立及管理会话**

### 2. 五层协议

1.  应用层：为**特定应用程序**提供数据传输服务，例如 HTTP、DNS 等。数据单位为报文。

2.  运输层：提供的是**进程间**的通用数据传输服务。由于应用层协议很多，定义通用的运输层协议就可以支持不断增多的应用层协议。运输层包括两种协议：
传输控制协议 TCP，提供面向连接、可靠的数据传输服务，数据单位为报文段；用户数据报协议 UDP，提供无连接、尽最大努力的数据传输服务，数据单位为用户数据报。**TCP 主要提供完整性服务，UDP 主要提供及时性服务**。

3.  网络层：为**主机之间**提供数据传输服务，而运输层协议是为主机中的进程提供服务。网络层把运输层传递下来的报文段或者用户数据报封装成分组。

4.  数据链路层：网络层针对的还是主机之间的数据传输服务，而主机之间可以有很多链路，链路层协议就是为同一链路的结点提供服务。数据链路层把网络层传来的分组封装成帧。

5.  物理层：考虑的是怎样在传输媒体上传输数据比特流，而不是指具体的传输媒体。物理层的作用是尽可能**屏蔽传输媒体和通信手段的差异**，使数据链路层感觉不到这些差异。

### 3. 数据在各层之间的传递过程

在向下的过程中，需要添加下层协议所需要的首部或者尾部，而在向上的过程中不断拆开首部和尾部。

路由器只有下面三层协议，因为**路由器位于网络核心中，不需要为进程或者应用程序提供服务，因此也就不需要运输层和应用层**。

![数据在各层之间的传递过程
](http://p7vxw6hv7.bkt.clouddn.com/18-7-27/69131298.jpg)

### 4\. TCP/IP 体系结构

它只有四层，相当于五层协议中数据链路层和物理层合并为网络接口层。

现在的 TCP/IP 体系结构**不严格遵循 OSI 分层概念**，应用层可能会`直接使用` IP 层或者网络接口层。

![TCP/IP 体系结构
](http://p7vxw6hv7.bkt.clouddn.com/18-7-27/92385920.jpg)

TCP/IP 协议族是一种沙漏形状，中间小两边大，IP 协议在其中占用举足轻重的地位。

![TCP/IP 协议族](http://upload-images.jianshu.io/upload_images/11861611-b31c58b1df9b438b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

# 二、物理层

## 通信方式

1.  单向通信，又称为单工通信；
2.  双向交替通信，又称为半双工通信；
3.  双向同时通信，又称为全双工通信。

## 带通调制

模拟信号是连续的信号，数字信号是离散的信号。带通调制把数字信号转换为模拟信号。

![调制](http://upload-images.jianshu.io/upload_images/11861611-9915e518b62ac199.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


# 三、数据链路层

## 信道分类

1.  点对点信道
2.  广播信道

### 点对点信道

一对一通信。

因为不会发生碰撞，因此也比较简单，使用` PPP (Point-to-Point Protocol`)协议进行控制。

### 广播信道

一对多通信，一个节点发送的数据能够被广播信道上所有的节点接收到。

所有的节点都在同一个广播信道上发送数据，因此需要有**专门的控制方法进行协调**，避免发生冲突（冲突也叫碰撞）。

主要有两种控制方法进行协调
- 信道复用技术
-  `CSMA/CD` 协议

## 三个基本问题

### 1. 封装成帧

将网络层传下来的分组`添加首部和尾部`，用于标记**帧的开始和结束**。

![封装成帧](http://upload-images.jianshu.io/upload_images/11861611-80b0160c2a29cda9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 2. 透明传输

透明表示一个实际存在的事物看起来好像不存在一样。

帧使用首部和尾部进行定界，**如果帧的数据部分含有和首部尾部相同的内容，那么帧的开始和结束位置就会被错误的判定**。需要在数据部分出现首部尾部相同的内容前面插入转义字符，如果出现转移字符，那么就`在转义字符前面再加个转义字符`，在接收端进行处理之后可以还原出原始数据。这个过程透明传输的内容是转义字符，**用户察觉不到转义字符的存在**。

![透明传输](http://upload-images.jianshu.io/upload_images/11861611-7823b7f0b957f7b8.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 3. 差错检测

目前数据链路层广泛使用了`循环冗余检验CRC(Cyclic Redundancy Check)`来检查比特差错。

## 局域网

**局域网是典型的一种`广播`信道**，主要特点是网络为一个单位所拥有，且地理范围和站点数目均有限。

可以按照网络拓扑对局域网进行分类：

![局域网分类](http://upload-images.jianshu.io/upload_images/11861611-3923ba794226ee9a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## PPP 协议

用于点对点信道中。互联网用户通常需要连接到某个 ISP 之后才能接入到互联网，PPP 协议是**用户计算机和 ISP 进行通信**时所使用的数据链路层协议。

![PPP 协议
](http://p7vxw6hv7.bkt.clouddn.com/18-7-27/99200631.jpg)

在 PPP 的帧中：

- F 字段为帧的定界符
- A 和 C 字段暂时没有意义
- FCS 字段是使用 CRC 的检验序列
- 信息部分的长度不超过 1500

![PPP 帧](http://upload-images.jianshu.io/upload_images/11861611-90370568b6c4e039.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## CSMA/CD 协议

用于广播信道中。**在广播信道上，同一时间只能允许一台计算机发送数据**。

`CSMA/CD (Carrier Sense Mutiple Access with Collision Detection)`载波监听多点接入 / 碰撞检测。

- **多点接入** ：说明这是总线型网络，许多计算机以多点的方式连接到总线上。
- **载波监听** ：每个站都必须不停地监听信道。在发送前，如果监听到信道正在使用，就必须等待。
-  **碰撞检测** ：在发送中，如果监听到信道已有其它站正在发送数据，就表示发生了碰撞。虽然每一个站在发送数据之前都已经监听到信道为空闲，但是由于**电磁波的传播时延的存在**，还是有可能会发生碰撞。

![CSMA/CD 协议](http://upload-images.jianshu.io/upload_images/11861611-2856b2a27257bc82.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

记端到端的传播时延为 τ，最先发送的站点最多经过 2τ 就可以知道是否发生了碰撞，称 2τ 为 `争用期` 。**只有经过争用期之后还没有检测到碰撞，才能肯定这次发送不会发生碰撞**

当发生碰撞时，站点要停止发送，等待一段时间再发送。这个时间采用 **截断二进制指数退避算法** 来确定，从离散的整数集合 {0, 1, .., (2<sup>k</sup>-1)} 中随机取出一个数，记作 r，然后取 r 倍的争用期作为重传等待时间。

## MAC 层

`MAC(Media Access Control) 地址`是 `6 字节（48 位）`的地址，**用于唯一标识网络适配器（网卡）**，`一台主机拥有多少个适配器就有多少个 MAC 地址`，例如笔记本电脑普遍存在无线网络适配器和有线网络适配器。

![image](http://upload-images.jianshu.io/upload_images/11861611-8fa74a618365a1c4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

在 MAC 帧中：

- **类型** ：标记上层使用的协议；
- **数据** ：长度在 46-1500 之间，如果太小则需要填充；
- **FCS** ：帧检验序列，使用的是 CRC 检验方法；
- **前同步码** ：只是为了计算 FCS 临时加入的，计算结束之后会丢弃。

# 四、网络层

## 网际协议 IP 概述

因为网络层是整个互联网的核心，因此应当让网络层**尽可能简单**。网络层向上只提供**简单灵活的、无连接的、尽最大努力交互**的数据报服务。

使用 IP 协议，可以把异构的物理网络连接起来，使得在网络层看起来好像是一个统一的网络。

![image](http://upload-images.jianshu.io/upload_images/11861611-16a334acadba5875.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

与 IP 协议配套使用的还有三个协议：

1.  地址解析协议` ARP（Address Resolution Protocol）`
2.  网际控制报文协议` ICMP（Internet Control Message Protocol）`
3.  网际组管理协议` IGMP（Internet Group Management Protocol）`

![image](http://upload-images.jianshu.io/upload_images/11861611-ee19acc29f90e5ca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## IP 数据报格式

![image](http://upload-images.jianshu.io/upload_images/11861611-fcd48d9959fa5586.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **版本** : 有 4（IPv4）和 6（IPv6）两个值；

- **首部长度** : 占 4 位，因此最大值为 15。值为 1 表示的是 1 个 32 位字的长度，也就是 4 字节。因为首部固定长度为 20 字节，因此该值最小为 5。如果可选字段的长度不是 4 字节的整数倍，就用尾部的填充部分来填充。

- **区分服务** : 用来获得更好的服务，一般情况下不使用。

- **总长度** : 包括首部长度和数据部分长度。

- **标识** : 在数据报长度过长从而发生分片的情况下，相同数据报的不同分片具有相同的标识符。

- **片偏移** : 和标识符一起，用于发生分片的情况。片偏移的单位为 8 字节。

- **生存时间** ：TTL，它的存在是为了防止无法交付的数据报在互联网中不断兜圈子。以路由器跳数为单位，当 TTL 为 0 时就丢弃数据报。

- **协议** ：指出携带的数据应该上交给哪个协议进行处理，例如 ICMP、TCP、UDP 等。

- **首部检验和** ：因为数据报每经过一个路由器，都要重新计算检验和，因此检验和不包含数据部分可以减少计算的工作量。

![image](http://upload-images.jianshu.io/upload_images/11861611-c1f648834c31b596.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## IP 地址编址方式

IP 地址的编址方式经历了三个历史阶段：

1.  分类
2.  子网划分
3.  无分类

### 1\. 分类

由两部分组成，网络号和主机号，其中不同分类具有不同的网络号长度，并且是固定的。

IP 地址 ::=`{< 网络号 >, < 主机号 >}`

![image](http://upload-images.jianshu.io/upload_images/11861611-2d1a27eb923dd216.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 2\. 子网划分

通过在`主机号字段中拿一部分作为子网号`，**把两级 IP 地址划分为三级 IP 地址**。注意，**外部网络看不到子网的存在**。

IP 地址 ::=` {< 网络号 >, < 子网号 >, < 主机号 >}`

要使用子网，必须配置子网掩码。一个 B 类地址的默认子网掩码为 255.255.0.0，如果 B 类地址的子网占两个比特，那么子网掩码为 11111111 11111111 11000000 00000000，也就是 255.255.192.0。

### 3\. 无分类

无分类编址 CIDR 消除了传统 A 类、B 类和 C 类地址以及划分子网的概念，使用网络前缀和主机号来对 IP 地址进行编码，网络前缀的长度可以根据需要变化。

IP 地址 ::=` {< 网络前缀号 >, < 主机号 >}`

CIDR 的记法上采用**在 IP 地址后面加上网络前缀长度的方法**，例如 128.14.35.7/20 表示前 20 位为网络前缀。

CIDR 的地址掩码可以继续称为子网掩码，子网掩码首 1 长度为网络前缀的长度。

一个 CIDR 地址块中有很多地址，一个 CIDR 表示的网络就可以表示原来的很多个网络，并且在路由表中只需要一个路由就可以代替原来的多个路由，减少了路由表项的数量。把这种通过使用网络前缀来减少路由表项的方式称为路由聚合，也称为 **构成超网** 。

在路由表中的项目由“网络前缀”和“下一跳地址”组成，在查找时可能会得到不止一个匹配结果，应当采用最长前缀匹配来确定应该匹配哪一个。

## IP 地址和 MAC 地址

网络层实现主机之间的通信，而链路层实现具体每段链路之间的通信。因此在通信过程中，**IP 数据报的源地址和目的地址始终不变，而 MAC 地址随着链路的改变而改变**。

![image](http://upload-images.jianshu.io/upload_images/11861611-457a69dd2555fb3b.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 地址解析协议 ARP

实现由 IP 地址得到 MAC 地址。

![image](http://upload-images.jianshu.io/upload_images/11861611-2febb2fe4ca33502.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

每个主机都有一个 ARP 高速缓存，里面有本局域网上的**各主机和路由器的 `IP地址`到`硬件地址`的映射表**。

如果主机 A 知道主机 B 的 IP 地址，但是 ARP 高速缓存中没有该 IP 地址到 MAC 地址的映射，此时主机 A 通过广播的方式发送 **ARP 请求**分组，主机 B 收到该请求后会发送 **ARP 响应分组**给主机 A 告知其 MAC 地址，随后主机 A 向其高速缓存中**写入**主机 B 的 IP 地址到硬件地址的映射。

![image](http://upload-images.jianshu.io/upload_images/11861611-26312ad510cfe95c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 路由器

### 路由器的结构

路由器从功能上可以划分为：路由选择和分组转发。

分组转发结构由三个部分组成：交换结构、一组输入端口和一组输出端口。

![路由器的结构](http://upload-images.jianshu.io/upload_images/11861611-d47b96f383dcacf7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 路由器分组转发流程

1.  从数据报的首部提取目的主机的 IP 地址 D，得到目的网络地址 N。
2.  若 N 就是与此路由器直接相连的某个网络地址，则进行直接交付；
3.  若路由表中有目的地址为 D 的特定主机路由，则把数据报传送给表中所指明的下一跳路由器；
4.  若路由表中有到达网络 N 的路由，则把数据报传送给路由表中所指明的下一跳路由器；
5.  若路由表中有一个默认路由，则把数据报传送给路由表中所指明的默认路由器；
6.  报告转发分组出错。

![image](http://upload-images.jianshu.io/upload_images/11861611-f7c899f962a6ac51.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 路由选择协议

互联网使用的路由选择协议都是自适应的，能随着网络通信量和拓扑结构的变化而自适应地进行调整。

互联网可以划分为许多较小的自治系统 `AS(Autonomous System)`，一个 AS 可以使用一种和别的 AS 不同的路由选择协议。

可以把路由选择协议划分为两大类：

1.  内部网关协议 IGP（Interior Gateway Protocol）：在 AS 内部使用，如 RIP 和 OSPF。
2.  外部网关协议 EGP（External Gateway Protocol）：在 AS 之间使用，如 BGP。

![image](http://upload-images.jianshu.io/upload_images/11861611-495cfa3057c39c2e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#### 1\. 内部网关协议 RIP

`RIP(Routing Information Protocol)`是一种分布式的**基于距离向量**的路由选择协议。距离是指跳数，直接相连的路由器跳数为 1，跳数最多为 15，超过 15 表示不可达。

RIP 按固定的时间间隔仅和相邻路由器交换自己的路由表，经过若干次交换之后，所有路由器最终会知道到达本自治系统中任何一个网络的最短距离和下一跳路由器地址。

距离向量算法：

1.  对地址为 X 的相邻路由器发来的 RIP 报文，先修改报文中的所有项目，把下一跳字段中的地址改为 X，并把所有的距离字段加 1；
2.  对修改后的 RIP 报文中的每一个项目，进行以下步骤：
    *   若原来的路由表中没有目的网络 N，则把该项目添加到路由表中；
    *   否则：若下一跳路由器地址是 X，则把收到的项目替换原来路由表中的项目；否则：若收到的项目中的距离 d 小于路由表中的距离，则进行更新（例如原始路由表项为 Net2, 5, P，新表项为 Net2, 4, X，则更新）；否则什么也不做。
3.  若 3 分钟还没有收到相邻路由器的更新路由表，则把该相邻路由器标为不可达，即把距离置为 16。

RIP 协议实现简单，开销小，但是 RIP 能使用的最大距离为 15，限制了网络的规模。并且当网络出现故障时，要经过比较长的时间才能将此消息传送到所有路由器。

#### 2\. 内部网关协议 OSPF

开放最短路径优先`OSPF(Open Shortest Path First)`，是为了克服 RIP 的缺点而开发出来的。

开放表示 OSPF 不受某一家厂商控制，而是公开发表的；最短路径优先表示使用了 Dijkstra 提出的最短路径算法 SPF。

OSPF 具有以下特点：

*   向本自治系统中的所有路由器发送信息，这种方法是洪泛法。
*   发送的信息就是与相邻路由器的链路状态，链路状态包括与哪些路由器相连以及链路的度量，度量用费用、距离、时延、带宽等来表示。
*   只有当链路状态发生变化时，路由器才会发送信息。

所有路由器都具有全网的拓扑结构图，并且是一致的。相比于 RIP，OSPF 的更新过程收敛的很快。

#### 3\. 外部网关协议 BGP

AS 之间的路由选择很困难，主要是互联网规模很大。并且各个 AS 内部使用不同的路由选择协议，就无法准确定义路径的度量。并且 AS 之间的路由选择必须考虑有关的策略，比如有些 AS 不愿意让其它 AS 经过。

BGP 只能寻找一条比较好的路由，而不是最佳路由。它采用**路径向量**路由选择协议。

每个 AS 都必须配置 BGP 发言人，通过在两个相邻 BGP 发言人之间建立 TCP 连接来交换路由信息。

![image](http://upload-images.jianshu.io/upload_images/11861611-c64b02f2ddaf6b39.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 网际控制报文协议 ICMP

ICMP 是为了**更有效地转发 IP 数据报和提高交付成功的机会**。它封装在 IP 数据报中，但是不属于高层协议。

![image](http://upload-images.jianshu.io/upload_images/11861611-54fddee93b973cd2.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

ICMP 报文分为差错报告报文和询问报文。

![image](http://upload-images.jianshu.io/upload_images/11861611-81d833e78b2c7f2a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 应用

分组网间探测`PING(Package InterNet Groper) `是 ICMP 的一个重要应用，主要用来**测试两台主机之间的连通性**。

Ping 发送的 IP 数据报封装的是无法交付的 **UDP 用户数据报**。

## 虚拟专用网 VPN

由于 IP 地址的紧缺，一个机构能申请到的**IP 地址数**往往远小于本机构所拥有的**主机数**。并且一个机构并不需要把所有的主机接入到外部的互联网中，机构内的计算机可以使用仅在本机构有效的 IP 地址（专用地址）。

有三个专用地址块：

1.  10.0.0.0 ~ 10.255.255.255
2.  172.16.0.0 ~ 172.31.255.255
3.  192.168.0.0 ~ 192.168.255.255

`VPN(Virtual Private Network) `使用公用的互联网作为本机构各专用网之间的通信载体。专用指机构内的主机只与本机构内的其它主机通信；虚拟指“好像是”，而实际上并不是，它有经过公用的互联网。

下图中，场所 A 和 B 的通信部经过互联网，如果场所 A 的主机 X 要和另一个场所 B 的主机 Y 通信，IP 数据报的源地址是 10.1.0.1，目的地址是 10.2.0.3。数据报先发送到**与互联网相连的路由器** R1，R1 对内部数据进行加密，然后重新加上数据报的首部，源地址是路由器 R1 的全球地址 125.1.2.3，目的地址是路由器 R2 的全球地址 194.4.5.6。路由器 R2 收到数据报后将数据部分进行解密，恢复原来的数据报，此时目的地址为 10.2.0.3，就交付给 Y。

![image](http://upload-images.jianshu.io/upload_images/11861611-38deb1b18c9db96c.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 网络地址转换 NAT

专用网内部的主机使用本地 IP 地址又想和互联网上的主机通信时，可以使用 `NAT(Network Address Translation)` 来将本地 IP 转换为全球 IP。

在以前，NAT 将本地 IP 和全球 IP 一一对应，这种方式下拥有 n 个全球 IP 地址的专用网内最多只可以同时有 n 台主机接入互联网。为了更有效地利用全球 IP 地址，现在常用的 NAT 转换表把运输层的**端口号也用上了**，使得多个专用网内部的主机共用一个全球 IP 地址。使用端口号的 NAT 也叫做网络地址与端口转换 NAPT。

![image](http://upload-images.jianshu.io/upload_images/11861611-c08707b0c8d9352f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

# 五、运输层*

网络层只把分组发送到目的主机，但是真正通信的并不是主机而是主机中的进程。**运输层提供了进程间的逻辑通信**，运输层向高层用户屏蔽了下面网络层的核心细节，使应用程序看见的好像在两个运输层实体之间有一条端到端的逻辑通信信道。

## UDP 和 TCP 的特点

- 用户数据报协议 `UDP（User Datagram Protocol）`是无连接的，尽最大可能交付，没有拥塞控制，面向报文（对于应用程序传下来的报文不合并也不拆分，只是添加 UDP 首部）。

- 传输控制协议 `TCP（Transmission Control Protocol）`是面向连接的，提供可靠交付，有流量控制，拥塞控制，提供全双工通信，面向字节流（把应用层传下来的报文看成字节流，把字节流组织成大小不等的数据块）。

（链接 可靠 字节 拥塞）

## 首部格式

### UDP 首部格式

![image](http://upload-images.jianshu.io/upload_images/11861611-86247f6f1d9bcba9.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

首部字段只有 8 个字节，包括源端口、目的端口、长度、检验和。12 字节的伪首部是为了计算检验和临时添加的。

### TCP 首部格式

![image](http://upload-images.jianshu.io/upload_images/11861611-64382898526932c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **序号** ：用于对字节流进行编号，例如序号为 301，表示第一个字节的编号为 301，如果携带的数据长度为 100 字节，那么下一个报文段的序号应为 401。

- **确认号** ：期望收到的下一个报文段的序号。例如 B 正确收到 A 发送来的一个报文段，序号为 501，携带的数据长度为 200 字节，因此 B 期望下一个报文段的序号为 701，B 发送给 A 的确认报文段中确认号就为 701。

- **数据偏移** ：指的是数据部分距离报文段起始处的偏移量，实际上指的是首部的长度。

- **确认 ACK** ：当 ACK=1 时确认号字段有效，否则无效。TCP 规定，在连接建立后所有传送的报文段都必须把 ACK 置 1。

- **同步 SYN** ：在连接建立时用来同步序号。当 SYN=1，ACK=0 时表示这是一个连接请求报文段。若对方同意建立连接，则响应报文中 SYN=1，ACK=1。

- **终止 FIN** ：用来释放一个连接，当 FIN=1 时，表示此报文段的发送方的数据已发送完毕，并要求释放运输连接。

- **窗口** ：窗口值作为接收方让发送方设置其发送窗口的依据。之所以要有这个限制，是因为接收方的数据缓存空间是有限的。

## TCP连接管理

### TCP 的三次握手

![TCP 的三次握手](http://upload-images.jianshu.io/upload_images/11861611-e4ee47a75afd6b3b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

假设 A 为客户端，B 为服务器端。

1.  首先 B 处于 LISTEN（监听）状态，等待客户的连接请求。

2.  A 向 B 发送连接**请求报文段**，`SYN=1`，选择一个初始的序号`seq = x`。

3.  B 收到连接请求报文段，如果同意建立连接，则向 A 发送连接**确认报文段**，`SYN=1，ACK=1`，确认号为` ack = x+1`，同时也选择一个初始的序号 `seq = y`。

4.  A 收到 B 的连接确认报文段后，还要向 B 发出**确认**，确认号为`ack y+1`，序号为 `seq = x+1`。

5.  B 收到 A 的确认后，连接建立。

#### 三次握手的原因

为了防止失效的连接请求到达服务器，让服务器错误打开连接。

失效的连接请求是指，客户端发送的连接请求在网络中滞留，客户端因为没及时收到服务器端发送的连接确认，因此就重新发送了连接请求。滞留的连接请求并不是丢失，之后还是会到达服务器。如果不进行第三次握手，那么服务器会误认为客户端重新请求连接，然后打开了连接。但是并不是客户端真正打开这个连接，因此客户端不会给服务器发送数据，这个连接就白白浪费了。

### TCP 的四次挥手

![image](http://upload-images.jianshu.io/upload_images/11861611-db5c0115f1410c85.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

以下描述不讨论序号和确认号，因为序号和确认号的规则比较简单。并且不讨论 ACK，因为 ACK 在连接建立之后都为 1。

1.  A 发送连接释放报文段，`FIN=1`

2.  B 收到之后发出确认，此时 TCP 属于**半关闭**状态，B 能向 A 发送数据但是 A 不能向 B 发送数据

3.  当 B 要不再需要连接时，发送连接释放请求报文段，`FIN=1`

4.  A 收到后发出确认，进入 TIME-WAIT 状态，等待 2MSL 时间后释放连接

5.  B 收到 A 的确认后释放连接

#### 四次挥手原因

客户端发送了 FIN 连接释放报文之后，服务器收到了这个报文，就进入了 CLOSE-WAIT 状态。这个状态是为了让服务器端发送还未传送完毕的数据，传送完毕之后，服务器会发送 FIN 连接释放报文。

#### TIME_WAIT原因

客户端接收到服务器端的 FIN 报文后进入此状态，此时并不是直接进入 CLOSED 状态，还需要等待一个时间计时器设置的时间 2MSL。这么做有两个理由：

1.  确保最后一个**确认报文段能够到达**。如果 B 没收到 A 发送来的确认报文段，那么就会重新发送连接释放请求报文段，A 等待一段时间就是为了处理这种情况的发生。

2.  等待一段时间是为了让本连接持续时间内所产生的所有**报文段都从网络中消失**，使得下一个新的连接不会出现旧的连接请求报文段。

## TCP 滑动窗口

![image](http://upload-images.jianshu.io/upload_images/11861611-37b2ab7448a724fa.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

窗口是缓存的一部分，用来**暂时存放字节流**。发送方和接收方各有一个窗口，接收方通过 TCP 报文段中的窗口字段告诉发送方自己的窗口大小，发送方根据这个值和其它信息设置自己的窗口大小。

发送窗口内的字节都允许被发送，接收窗口内的字节都允许被接收。如果发送窗口左部的字节已经发送并且收到了确认，那么就将发送窗口向右滑动一定距离，直到左部第一个字节不是已发送并且已确认的状态；接收窗口的滑动类似，接收窗口左部字节已经发送确认并交付主机，就向右滑动接收窗口。

接收窗口只会对窗口内最后一个按序到达的字节进行确认，例如接收窗口已经收到的字节为 {31, 32, 34, 35}，其中 {31, 32} 按序到达，而 {34, 35} 就不是，因此只对字节 32 进行确认。发送方得到一个字节的确认之后，就知道这个字节之前的所有字节都已经被接收。

### 为什么连接的时候是三次握手，关闭的时候却是四次握手
因为当Server端收到Client端的SYN连接请求报文后，可以`直接发送SYN+ACK`报文。其中ACK报文是用来应答的，SYN报文是用来同步的。
但是关闭连接时，当Server端收到FIN报文时，很可能并不会立即关闭SOCKET，所以只能`先`回复一个ACK报文，告诉Client端，"你发的FIN报文我收到了"。只有等到我Server端所有的报文都发送完了，`才`能发送FIN报文，因此不能一起发送。故需要四步握手。

## TCP 可靠传输

TCP 使用超时重传来实现可靠传输：如果一个已经发送的报文段在超时时间内没有收到确认，那么就重传这个报文段。

个报文段从发送再到接收到确认所经过的时间称为往返时间 `RTT(Round-Trip Time)`，加权平均往返时间 RTTs 计算如下：

[![ RTTs ](http://upload-images.jianshu.io/upload_images/11861611-6e3a046f725d81ec?imageMogr2/auto-orient/strip)](https://camo.githubusercontent.com/02e9a4a23b05bcf814d9e5d0c1b79a6bb5ae2aee/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f525454733d28312d61292a2852545473292b612a525454)

RFC 2988 推荐的 α 值为 1/8，即 0.125。

超时时间 `RTO(Retransmission Time-Out)` 应该略大于 RTTs，TCP 使用的超时时间计算如下：

[![TCP 使用的超时时间](http://upload-images.jianshu.io/upload_images/11861611-49ca3b255ab888ef?imageMogr2/auto-orient/strip)](https://camo.githubusercontent.com/da3da0a6cad7ef2af7d7adcd2940277780c35325/68747470733a2f2f6c617465782e636f6465636f67732e636f6d2f6769662e6c617465783f52544f3d525454732b342a5254545f64)


其中 RTT<sub>d</sub> 为偏差。

## TCP 流量控制

流量控制是为了控制发送方发送速率，**保证接收方来得及接收**。

接收方发送的确认报文中的窗口字段可以用来控制发送方窗口大小，从而影响发送方的发送速率。将窗口字段设置为 0，则发送方不能发送数据。

## TCP 拥塞控制

如果网络出现拥塞，分组将会丢失，此时发送方会继续重传，从而导致网络拥塞程度更高。因此当出现拥塞时，应当控制发送方的速率。这一点和流量控制很像，但是出发点不同。**流量控制是为了让接收方能来得及接受，而拥塞控制是为了降低整个网络的拥塞程度**

![image](http://upload-images.jianshu.io/upload_images/11861611-2c45103716e6ec74.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

TCP 主要通过四种算法来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。发送方需要维护有一个叫做拥塞窗口（cwnd）的状态变量。注意拥塞窗口与发送方窗口的区别，拥塞窗口只是一个状态变量，实际决定发送方能发送多少数据的是发送方窗口。

为了便于讨论，做如下假设：

1.  接收方有足够大的接收缓存，因此不会发生流量控制；
2.  虽然 TCP 的窗口基于字节，但是这里设窗口的大小单位为报文段。

![image](http://upload-images.jianshu.io/upload_images/11861611-d05df02d851ee93f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 1\. 慢开始与拥塞避免

发送的最初执行慢开始，令 cwnd=1，发送方只能发送 1 个报文段；当收到确认后，将 cwnd 加倍，因此之后发送方能够发送的报文段数量为：2、4、8 …

注意到慢开始每个轮次都将 cwnd 加倍，这样会让 cwnd 增长速度非常快，从而使得发送方发送的速度增长速度过快，网络拥塞的可能也就更高。设置一个慢开始门限 ssthresh，当 cwnd >= ssthresh 时，进入拥塞避免，每个轮次只将 cwnd 加 1。

如果出现了超时，则令 ssthresh = cwnd/2，然后重新执行慢开始。

### 2\. 快重传与快恢复

在接收方，要求每次接收到报文段都应该发送对已收到有序报文段的确认，例如已经接收到 M<sub>1</sub> 和 M<sub>2</sub>，此时收到 M<sub>4</sub>，应当发送对 M<sub>2</sub> 的确认。

在发送方，如果收到三个重复确认，那么可以确认下一个报文段丢失，例如收到三个 M<sub>2</sub> ，则 M<sub>3</sub> 丢失。此时执行快重传，立即重传下一个报文段。

在这种情况下，只是丢失个别报文段，而不是网络拥塞，因此执行快恢复，令 ssthresh = cwnd/2 ，cwnd = ssthresh，注意到此时直接进入拥塞避免。

![image](http://upload-images.jianshu.io/upload_images/11861611-66406a1be3dd9d7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

# 六、应用层*

## 域名系统 DNS

`DNS(Domain Name System)`把主机名解析为 IP 地址。

被设计成分布式系统。

### 1\. 层次结构

一个域名由多个层次构成，从上层到下层分别为顶级域名、二级域名、三级域名以及四级域名。所有域名可以画成一颗域名树。

![image](http://upload-images.jianshu.io/upload_images/11861611-8038beb7f4d51cb5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![image](http://upload-images.jianshu.io/upload_images/11861611-5c500d7b67b3a291.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

域名服务器可以分为以下四类：

1.  根域名服务器：解析顶级域名；
2.  顶级域名服务器：解析二级域名；
3.  权限域名服务器：解析区内的域名；
4.  本地域名服务器：也称为默认域名服务器。可以在其中配置高速缓存。


区和域的概念不同，可以在一个域中划分多个区。图 b 在域 abc.com 中划分了两个区：abc.com 和 y.abc.com

![image](http://upload-images.jianshu.io/upload_images/11861611-c0b42a8c87af7b9e.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

因此就需要两个权限域名服务器：

![image](http://upload-images.jianshu.io/upload_images/11861611-095f138a61294e57.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


### 2\. 传输方式
DNS 可以使用 UDP 或者 TCP 进行传输，使用的端口号都为` 53`。**大多数情况下 DNS 使用 UDP 进行传输**，这就要求域名解析器和域名服务器都必须自己处理超时和重传来保证可靠性。在两种情况下会使用 TCP 进行传输：

因为 UDP 最大只支持 512 字节的数据，如果返回的响应超过的 512 字节就改用 TCP 进行传输。
区域传送是主域名服务器向辅助域名服务器传送变化的那部分数据，区域传送需要使用 TCP 进行传输。

### 3\. 解析过程

**主机向本地域名服务器**解析的过程采用递归，而**本地域名服务器向其它域名服务器**解析可以使用递归和迭代两种方式。

迭代的方式下，本地域名服务器向一个域名服务器解析请求解析之后，**结果返回**到本地域名服务器，然后本地域名服务器继续向其它域名服务器请求解析；
而递归的方式下，**结果不是直接返回的，而是继续向前请求解析**，最后的结果才会返回。

![image](http://upload-images.jianshu.io/upload_images/11861611-fc6cc9937eaf7cbf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 文件传输协议 FTP

**`FTP (File Transfer Protocol)`在运输层使用 TCP**，并且需要建立两个并行的 TCP 连接：控制连接和数据连接。控制连接在整个会话期间一直保持打开，而数据连接在数据传送完毕之后就关闭。控制连接使用端口号` 21`，数据连接使用端口号 `20`。

![ FTP](http://upload-images.jianshu.io/upload_images/11861611-f3389ca7d18d5926.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 远程终端协议 TELNET

TELNET 用于登录到远程主机上，并且远程主机上的输出也会返回。

TELNET 可以适应许多计算机和操作系统的差异，例如不同操作系统系统的换行符定义。

## 电子邮件协议

一个电子邮件系统由三部分组成：用户代理、邮件服务器以及邮件发送协议和读取协议。其中发送协议常用 SMTP，读取协议常用 POP3 和 IMAP。

![image](http://upload-images.jianshu.io/upload_images/11861611-7b3f9726a08aca6e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 1\. POP3

POP3 的特点是只要用户从服务器上读取了邮件，就把该邮件删除。

### 2\. IMAP

IMAP 协议中客户端和服务器上的邮件保持同步，如果不去手动删除邮件，那么服务器上的邮件也不会被删除。IMAP 这种做法可以让用户随时随地去访问服务器上的邮件。IMAP 协议也支持创建自定义的文件夹。

### 3\. SMTP

SMTP 只能发送 ASCII 码，而互联网邮件扩充 MIME 可以发送二进制文件。MIME 并没有改动或者取代 SMTP，而是增加邮件主题的结构，定义了非 ASCII 码的编码规则。

![image](http://upload-images.jianshu.io/upload_images/11861611-d39275c9e56a6546.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

## 动态主机配置协议 DHCP

`DHCP (Dynamic Host Configuration Protocol)`提供了即插即用的连网方式，用户不再需要去手动配置 IP 地址等信息。

DHCP 配置的内容不仅是 IP 地址，还包括子网掩码、默认路由器 IP 地址、域名服务器的 IP 地址。

工作方式如下：需要 IP 地址的主机广播发送 DHCP 发现报文（将目的地址置为全 1，即 255.255.255.255:67，源地址设置为全 0，即 0.0.0.0:68），DHCP 服务器收到发现报文之后，则**在 IP 地址池中取一个地址，发送 DHCP 提供报文给该主机**。

## 点对点传输 P2P

把某个文件分发的所有对等集合称为一个洪流。文件的数据单元称为文件块，它的大小是固定的。一个新的对等方加入某个洪流，一开始并没有文件块，但是能够从其它对等方中逐渐地下载到一些文件块，与此同时，它也为别的对等方上传一些文件块。

每个洪流都有一个基础设施，称为追踪器。当一个对等方加入洪流时，必须向追踪器登记，并周期性地通知追踪器它仍在洪流中。可以在任何时间加入和退出某个洪流。

一个新的对等方加入洪流时，追踪器会随机从洪流中选择若干个对等方，并让新对等方与这些对等方建立连接，把这些对等方称为相邻对等方。接收和发送文件块都是在相邻对等方中进行。

当一个对等方需要很多文件块时，通过使用最稀有优先的策略来取得文件块，也就是一个文件块在相邻对等方中副本最少，那么就优先请求这个文件块。

当很多对等方向同一个对等方请求文件块时，该对等方优先选择以最高速率向其发送文件块的对等方。

P2P 是一个分布式系统，任何时候都有对等方加入或者退出。使用分布式散列表 DHT，可以查找洪流中的资源和 IP 地址映射。

## Web 页面请求过程

### 1\. DHCP 配置主机信息

1.  假设主机最开始没有 IP 地址以及其它信息，那么就需要先使用 DHCP 来获取。

2.  主机生成一个 DHCP 请求报文，并将这个报文放入具有目的端口 67 和源端口 68 的 UDP 报文段中。

3.  该报文段则被放入在一个具有广播 IP 目的地址(255.255.255.255) 和源 IP 地址（0.0.0.0）的 IP 数据报中。

4.  该数据报则被放置在 MAC 帧中，该帧具有目的地址 FF:FF:FF:FF:FF:FF，将广播到与交换机连接的所有设备。

5.  连接在交换机的 DHCP 服务器收到广播帧之后，不断地向上分解得到 IP 数据报、UDP 报文段、DHCP 请求报文，之后生成 DHCP ACK 报文，该报文包含以下信息：IP 地址、DNS 服务器的 IP 地址、默认网关路由器的 IP 地址和子网掩码。该报文被放入 UDP 报文段中，UDP 报文段有被放入 IP 数据报中，最后放入 MAC 帧中。

6.  该帧的目的地址是请求主机的 MAC 地址，因为交换机具有自学习能力，之前主机发送了广播帧之后就记录了 MAC 地址到其转发接口的交换表项，因此现在交换机就可以直接知道应该向哪个接口发送该帧。

7.  主机收到该帧后，不断分解得到 DHCP 报文。之后就配置它的 IP 地址、子网掩码和 DNS 服务器的 IP 地址，并在其 IP 转发表中安装默认网关。

### 2\. ARP 解析 MAC 地址

1.  主机通过浏览器生成一个 TCP 套接字，套接字向 HTTP 服务器发送 HTTP 请求。为了生成该套接字，主机需要知道网站的域名对应的 IP 地址。

2.  主机生成一个 DNS 查询报文，该报文具有 53 号端口，因为 DNS 服务器的端口号是 53。

3.  该 DNS 查询报文被放入目的地址为 DNS 服务器 IP 地址的 IP 数据报中。

4.  该 IP 数据报被放入一个以太网帧中，该帧将发送到网关路由器。

5.  DHCP 过程只知道网关路由器的 IP 地址，为了获取网关路由器的 MAC 地址，需要使用 ARP 协议。

6.  主机生成一个包含目的地址为网关路由器 IP 地址的 ARP 查询报文，将该 ARP 查询报文放入一个具有广播目的地址（FF:FF:FF:FF:FF:FF）的以太网帧中，并向交换机发送该以太网帧，交换机将该帧转发给所有的连接设备，包括网关路由器。

7.  网关路由器接收到该帧后，不断向上分解得到 ARP 报文，发现其中的 IP 地址与其接口的 IP 地址匹配，因此就发送一个 ARP 回答报文，包含了它的 MAC 地址，发回给主机。

### 3\. DNS 解析域名

1.  知道了网关路由器的 MAC 地址之后，就可以继续 DNS 的解析过程了。

2.  网关路由器接收到包含 DNS 查询报文的以太网帧后，抽取出 IP 数据报，并根据转发表决定该 IP 数据报应该转发的路由器。

3.  因为路由器具有内部网关协议（RIP、OSPF）和外部网关协议（BGP）这两种路由选择协议，因此路由表中已经配置了网关路由器到达 DNS 服务器的路由表项。

4.  到达 DNS 服务器之后，DNS 服务器抽取出 DNS 查询报文，并在 DNS 数据库中查找待解析的域名。

5.  找到 DNS 记录之后，发送 DNS 回答报文，将该回答报文放入 UDP 报文段中，然后放入 IP 数据报中，通过路由器反向转发回网关路由器，并经过以太网交换机到达主机。

### 4\. HTTP 请求页面

1.  有了 HTTP 服务器的 IP 地址之后，主机就能够生成 TCP 套接字，该套接字将用于向 Web 服务器发送 HTTP GET 报文。

2.  在生成 TCP 套接字之前，必须先与 HTTP 服务器进行三次握手来建立连接。生成一个具有目的端口 80 的 TCP SYN 报文段，并向 HTTP 服务器发送该报文段。

3.  HTTP 服务器收到该报文段之后，生成 TCP SYNACK 报文段，发回给主机。

4.  连接建立之后，浏览器生成 HTTP GET 报文，并交付给 HTTP 服务器。

5.  HTTP 服务器从 TCP 套接字读取 HTTP GET 报文，生成一个 HTTP 响应报文，将 Web 页面内容放入报文主体中，发回给主机。

6.  浏览器收到 HTTP 响应报文后，抽取出 Web 页面内容，之后进行渲染，显示 Web 页面。

## 常用端口

| 应用层协议 | 端口号 | 运输层协议 |
| --- | --- | --- |
| DNS | 53 | UDP |
| FTP | 控制连接 21，数据连接 20 | TCP |
| TELNET | 23 | TCP |
| DHCP | 67 68 | UDP |
| HTTP | 80 | TCP |
| SMTP | 25 | TCP |
| POP3 | 110 | TCP |
| IMAP | 143 | TCP |



参考文章
计算机网络(第7版) 谢希仁  电子工业出版社
[复习](https://www.bookstack.cn/read/Interview-Notebook/notes-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C.md)
